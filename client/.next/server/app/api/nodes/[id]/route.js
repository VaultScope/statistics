/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/nodes/[id]/route";
exports.ids = ["app/api/nodes/[id]/route"];
exports.modules = {

/***/ "(rsc)/../node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fnodes%2F%5Bid%5D%2Froute&page=%2Fapi%2Fnodes%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnodes%2F%5Bid%5D%2Froute.ts&appDir=C%3A%5CUsers%5Ctoowa%5COneDrive%5CDesktop%5CProjects%5CStatistics%5Cclient%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ctoowa%5COneDrive%5CDesktop%5CProjects%5CStatistics%5Cclient&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fnodes%2F%5Bid%5D%2Froute&page=%2Fapi%2Fnodes%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnodes%2F%5Bid%5D%2Froute.ts&appDir=C%3A%5CUsers%5Ctoowa%5COneDrive%5CDesktop%5CProjects%5CStatistics%5Cclient%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ctoowa%5COneDrive%5CDesktop%5CProjects%5CStatistics%5Cclient&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/../node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/../node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/../node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/../node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/../node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/../node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/../node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/../node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/../node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/../node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/../node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/../node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/../node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var C_Users_toowa_OneDrive_Desktop_Projects_Statistics_client_app_api_nodes_id_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./app/api/nodes/[id]/route.ts */ \"(rsc)/./app/api/nodes/[id]/route.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/nodes/[id]/route\",\n        pathname: \"/api/nodes/[id]\",\n        filename: \"route\",\n        bundlePath: \"app/api/nodes/[id]/route\"\n    },\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"C:\\\\Users\\\\toowa\\\\OneDrive\\\\Desktop\\\\Projects\\\\Statistics\\\\client\\\\app\\\\api\\\\nodes\\\\[id]\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_toowa_OneDrive_Desktop_Projects_Statistics_client_app_api_nodes_id_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/nodes/[id]/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        // if we aren't wrapped by base-server handle here\n        if (!activeSpan && !(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyL2luZGV4LmpzP25hbWU9YXBwJTJGYXBpJTJGbm9kZXMlMkYlNUJpZCU1RCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGbm9kZXMlMkYlNUJpZCU1RCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRm5vZGVzJTJGJTVCaWQlNUQlMkZyb3V0ZS50cyZhcHBEaXI9QyUzQSU1Q1VzZXJzJTVDdG9vd2ElNUNPbmVEcml2ZSU1Q0Rlc2t0b3AlNUNQcm9qZWN0cyU1Q1N0YXRpc3RpY3MlNUNjbGllbnQlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q3Rvb3dhJTVDT25lRHJpdmUlNUNEZXNrdG9wJTVDUHJvamVjdHMlNUNTdGF0aXN0aWNzJTVDY2xpZW50JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEJmlzR2xvYmFsTm90Rm91bmRFbmFibGVkPSEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDZDtBQUNTO0FBQ087QUFDSztBQUNtQztBQUNqRDtBQUNPO0FBQ2Y7QUFDc0M7QUFDekI7QUFDTTtBQUNDO0FBQ2hCO0FBQzZEO0FBQy9IO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWEsT0FBb0MsSUFB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QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsMEZBQXFCO0FBQ2xFO0FBQ0Esa0JBQWtCLDZFQUFZO0FBQzlCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLDZFQUE2RSxnRkFBYztBQUMzRixpQ0FBaUMsUUFBUSxFQUFFLFFBQVE7QUFDbkQsMEJBQTBCLHVFQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsNENBQTRDLDZGQUFlO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDJGQUFtQjtBQUNyRDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2RUFBWTtBQUMxQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgeyBnZXRSZXF1ZXN0TWV0YSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JlcXVlc3QtbWV0YVwiO1xuaW1wb3J0IHsgZ2V0VHJhY2VyLCBTcGFuS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS90cmFjZXJcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZUFwcFBhdGggfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvcm91dGVyL3V0aWxzL2FwcC1wYXRoc1wiO1xuaW1wb3J0IHsgTm9kZU5leHRSZXF1ZXN0LCBOb2RlTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYmFzZS1odHRwL25vZGVcIjtcbmltcG9ydCB7IE5leHRSZXF1ZXN0QWRhcHRlciwgc2lnbmFsRnJvbU5vZGVSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9hZGFwdGVycy9uZXh0LXJlcXVlc3RcIjtcbmltcG9ydCB7IEJhc2VTZXJ2ZXJTcGFuIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgZ2V0UmV2YWxpZGF0ZVJlYXNvbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2luc3RydW1lbnRhdGlvbi91dGlsc1wiO1xuaW1wb3J0IHsgc2VuZFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvc2VuZC1yZXNwb25zZVwiO1xuaW1wb3J0IHsgZnJvbU5vZGVPdXRnb2luZ0h0dHBIZWFkZXJzLCB0b05vZGVPdXRnb2luZ0h0dHBIZWFkZXJzIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvd2ViL3V0aWxzXCI7XG5pbXBvcnQgeyBnZXRDYWNoZUNvbnRyb2xIZWFkZXIgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvY2FjaGUtY29udHJvbFwiO1xuaW1wb3J0IHsgSU5GSU5JVEVfQ0FDSEUsIE5FWFRfQ0FDSEVfVEFHU19IRUFERVIgfSBmcm9tIFwibmV4dC9kaXN0L2xpYi9jb25zdGFudHNcIjtcbmltcG9ydCB7IE5vRmFsbGJhY2tFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9uby1mYWxsYmFjay1lcnJvci5leHRlcm5hbFwiO1xuaW1wb3J0IHsgQ2FjaGVkUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVzcG9uc2UtY2FjaGVcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFx0b293YVxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXFByb2plY3RzXFxcXFN0YXRpc3RpY3NcXFxcY2xpZW50XFxcXGFwcFxcXFxhcGlcXFxcbm9kZXNcXFxcW2lkXVxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvbm9kZXMvW2lkXS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL25vZGVzL1tpZF1cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL25vZGVzL1tpZF0vcm91dGVcIlxuICAgIH0sXG4gICAgZGlzdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX0RJU1RfRElSIHx8ICcnLFxuICAgIHJlbGF0aXZlUHJvamVjdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX1BST0pFQ1RfRElSIHx8ICcnLFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcdG9vd2FcXFxcT25lRHJpdmVcXFxcRGVza3RvcFxcXFxQcm9qZWN0c1xcXFxTdGF0aXN0aWNzXFxcXGNsaWVudFxcXFxhcHBcXFxcYXBpXFxcXG5vZGVzXFxcXFtpZF1cXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcywgY3R4KSB7XG4gICAgdmFyIF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbDtcbiAgICBsZXQgc3JjUGFnZSA9IFwiL2FwaS9ub2Rlcy9baWRdL3JvdXRlXCI7XG4gICAgLy8gdHVyYm9wYWNrIGRvZXNuJ3Qgbm9ybWFsaXplIGAvaW5kZXhgIGluIHRoZSBwYWdlIG5hbWVcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIHRvIHByb2Nlc3MgZHluYW1pYyByb3V0ZXMgcHJvcGVybHlcbiAgICAvLyBUT0RPOiBmaXggdHVyYm9wYWNrIHByb3ZpZGluZyBkaWZmZXJpbmcgdmFsdWUgZnJvbSB3ZWJwYWNrXG4gICAgaWYgKHByb2Nlc3MuZW52LlRVUkJPUEFDSykge1xuICAgICAgICBzcmNQYWdlID0gc3JjUGFnZS5yZXBsYWNlKC9cXC9pbmRleCQvLCAnJykgfHwgJy8nO1xuICAgIH0gZWxzZSBpZiAoc3JjUGFnZSA9PT0gJy9pbmRleCcpIHtcbiAgICAgICAgLy8gd2UgYWx3YXlzIG5vcm1hbGl6ZSAvaW5kZXggc3BlY2lmaWNhbGx5XG4gICAgICAgIHNyY1BhZ2UgPSAnLyc7XG4gICAgfVxuICAgIGNvbnN0IG11bHRpWm9uZURyYWZ0TW9kZSA9IHByb2Nlc3MuZW52Ll9fTkVYVF9NVUxUSV9aT05FX0RSQUZUX01PREU7XG4gICAgY29uc3QgcHJlcGFyZVJlc3VsdCA9IGF3YWl0IHJvdXRlTW9kdWxlLnByZXBhcmUocmVxLCByZXMsIHtcbiAgICAgICAgc3JjUGFnZSxcbiAgICAgICAgbXVsdGlab25lRHJhZnRNb2RlXG4gICAgfSk7XG4gICAgaWYgKCFwcmVwYXJlUmVzdWx0KSB7XG4gICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDAwO1xuICAgICAgICByZXMuZW5kKCdCYWQgUmVxdWVzdCcpO1xuICAgICAgICBjdHgud2FpdFVudGlsID09IG51bGwgPyB2b2lkIDAgOiBjdHgud2FpdFVudGlsLmNhbGwoY3R4LCBQcm9taXNlLnJlc29sdmUoKSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IGJ1aWxkSWQsIHBhcmFtcywgbmV4dENvbmZpZywgaXNEcmFmdE1vZGUsIHByZXJlbmRlck1hbmlmZXN0LCByb3V0ZXJTZXJ2ZXJDb250ZXh0LCBpc09uRGVtYW5kUmV2YWxpZGF0ZSwgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQsIHJlc29sdmVkUGF0aG5hbWUgfSA9IHByZXBhcmVSZXN1bHQ7XG4gICAgY29uc3Qgbm9ybWFsaXplZFNyY1BhZ2UgPSBub3JtYWxpemVBcHBQYXRoKHNyY1BhZ2UpO1xuICAgIGxldCBpc0lzciA9IEJvb2xlYW4ocHJlcmVuZGVyTWFuaWZlc3QuZHluYW1pY1JvdXRlc1tub3JtYWxpemVkU3JjUGFnZV0gfHwgcHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdKTtcbiAgICBpZiAoaXNJc3IgJiYgIWlzRHJhZnRNb2RlKSB7XG4gICAgICAgIGNvbnN0IGlzUHJlcmVuZGVyZWQgPSBCb29sZWFuKHByZXJlbmRlck1hbmlmZXN0LnJvdXRlc1tyZXNvbHZlZFBhdGhuYW1lXSk7XG4gICAgICAgIGNvbnN0IHByZXJlbmRlckluZm8gPSBwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXTtcbiAgICAgICAgaWYgKHByZXJlbmRlckluZm8pIHtcbiAgICAgICAgICAgIGlmIChwcmVyZW5kZXJJbmZvLmZhbGxiYWNrID09PSBmYWxzZSAmJiAhaXNQcmVyZW5kZXJlZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb0ZhbGxiYWNrRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgY2FjaGVLZXkgPSBudWxsO1xuICAgIGlmIChpc0lzciAmJiAhcm91dGVNb2R1bGUuaXNEZXYgJiYgIWlzRHJhZnRNb2RlKSB7XG4gICAgICAgIGNhY2hlS2V5ID0gcmVzb2x2ZWRQYXRobmFtZTtcbiAgICAgICAgLy8gZW5zdXJlIC9pbmRleCBhbmQgLyBpcyBub3JtYWxpemVkIHRvIG9uZSBrZXlcbiAgICAgICAgY2FjaGVLZXkgPSBjYWNoZUtleSA9PT0gJy9pbmRleCcgPyAnLycgOiBjYWNoZUtleTtcbiAgICB9XG4gICAgY29uc3Qgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UgPSAvLyBJZiB3ZSdyZSBpbiBkZXZlbG9wbWVudCwgd2UgYWx3YXlzIHN1cHBvcnQgZHluYW1pYyBIVE1MXG4gICAgcm91dGVNb2R1bGUuaXNEZXYgPT09IHRydWUgfHwgLy8gSWYgdGhpcyBpcyBub3QgU1NHIG9yIGRvZXMgbm90IGhhdmUgc3RhdGljIHBhdGhzLCB0aGVuIGl0IHN1cHBvcnRzXG4gICAgLy8gZHluYW1pYyBIVE1MLlxuICAgICFpc0lzcjtcbiAgICAvLyBUaGlzIGlzIGEgcmV2YWxpZGF0aW9uIHJlcXVlc3QgaWYgdGhlIHJlcXVlc3QgaXMgZm9yIGEgc3RhdGljXG4gICAgLy8gcGFnZSBhbmQgaXQgaXMgbm90IGJlaW5nIHJlc3VtZWQgZnJvbSBhIHBvc3Rwb25lZCByZW5kZXIgYW5kXG4gICAgLy8gaXQgaXMgbm90IGEgZHluYW1pYyBSU0MgcmVxdWVzdCB0aGVuIGl0IGlzIGEgcmV2YWxpZGF0aW9uXG4gICAgLy8gcmVxdWVzdC5cbiAgICBjb25zdCBpc1JldmFsaWRhdGUgPSBpc0lzciAmJiAhc3VwcG9ydHNEeW5hbWljUmVzcG9uc2U7XG4gICAgY29uc3QgbWV0aG9kID0gcmVxLm1ldGhvZCB8fCAnR0VUJztcbiAgICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIoKTtcbiAgICBjb25zdCBhY3RpdmVTcGFuID0gdHJhY2VyLmdldEFjdGl2ZVNjb3BlU3BhbigpO1xuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgIHJlbmRlck9wdHM6IHtcbiAgICAgICAgICAgIGV4cGVyaW1lbnRhbDoge1xuICAgICAgICAgICAgICAgIGNhY2hlQ29tcG9uZW50czogQm9vbGVhbihuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5jYWNoZUNvbXBvbmVudHMpLFxuICAgICAgICAgICAgICAgIGF1dGhJbnRlcnJ1cHRzOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmF1dGhJbnRlcnJ1cHRzKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlLFxuICAgICAgICAgICAgaW5jcmVtZW50YWxDYWNoZTogZ2V0UmVxdWVzdE1ldGEocmVxLCAnaW5jcmVtZW50YWxDYWNoZScpLFxuICAgICAgICAgICAgY2FjaGVMaWZlUHJvZmlsZXM6IChfbmV4dENvbmZpZ19leHBlcmltZW50YWwgPSBuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbC5jYWNoZUxpZmUsXG4gICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWwsXG4gICAgICAgICAgICBvbkNsb3NlOiAoY2IpPT57XG4gICAgICAgICAgICAgICAgcmVzLm9uKCdjbG9zZScsIGNiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkFmdGVyVGFza0Vycm9yOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvbkluc3RydW1lbnRhdGlvblJlcXVlc3RFcnJvcjogKGVycm9yLCBfcmVxdWVzdCwgZXJyb3JDb250ZXh0KT0+cm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnJvciwgZXJyb3JDb250ZXh0LCByb3V0ZXJTZXJ2ZXJDb250ZXh0KVxuICAgICAgICB9LFxuICAgICAgICBzaGFyZWRDb250ZXh0OiB7XG4gICAgICAgICAgICBidWlsZElkXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG5vZGVOZXh0UmVxID0gbmV3IE5vZGVOZXh0UmVxdWVzdChyZXEpO1xuICAgIGNvbnN0IG5vZGVOZXh0UmVzID0gbmV3IE5vZGVOZXh0UmVzcG9uc2UocmVzKTtcbiAgICBjb25zdCBuZXh0UmVxID0gTmV4dFJlcXVlc3RBZGFwdGVyLmZyb21Ob2RlTmV4dFJlcXVlc3Qobm9kZU5leHRSZXEsIHNpZ25hbEZyb21Ob2RlUmVzcG9uc2UocmVzKSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW52b2tlUm91dGVNb2R1bGUgPSBhc3luYyAoc3Bhbik9PntcbiAgICAgICAgICAgIHJldHVybiByb3V0ZU1vZHVsZS5oYW5kbGUobmV4dFJlcSwgY29udGV4dCkuZmluYWxseSgoKT0+e1xuICAgICAgICAgICAgICAgIGlmICghc3BhbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICdodHRwLnN0YXR1c19jb2RlJzogcmVzLnN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgICAgICduZXh0LnJzYyc6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdFNwYW5BdHRyaWJ1dGVzID0gdHJhY2VyLmdldFJvb3RTcGFuQXR0cmlidXRlcygpO1xuICAgICAgICAgICAgICAgIC8vIFdlIHdlcmUgdW5hYmxlIHRvIGdldCBhdHRyaWJ1dGVzLCBwcm9iYWJseSBPVEVMIGlzIG5vdCBlbmFibGVkXG4gICAgICAgICAgICAgICAgaWYgKCFyb290U3BhbkF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKSAhPT0gQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFVuZXhwZWN0ZWQgcm9vdCBzcGFuIHR5cGUgJyR7cm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKX0nLiBQbGVhc2UgcmVwb3J0IHRoaXMgTmV4dC5qcyBpc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vdmVyY2VsL25leHQuanNgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByb3V0ZSA9IHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQucm91dGUnKTtcbiAgICAgICAgICAgICAgICBpZiAocm91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGAke21ldGhvZH0gJHtyb3V0ZX1gO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5zcGFuX25hbWUnOiBuYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUobmFtZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKGAke21ldGhvZH0gJHtyZXEudXJsfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoYW5kbGVSZXNwb25zZSA9IGFzeW5jIChjdXJyZW50U3Bhbik9PntcbiAgICAgICAgICAgIHZhciBfY2FjaGVFbnRyeV92YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlR2VuZXJhdG9yID0gYXN5bmMgKHsgcHJldmlvdXNDYWNoZUVudHJ5IH0pPT57XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpICYmIGlzT25EZW1hbmRSZXZhbGlkYXRlICYmIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkICYmICFwcmV2aW91c0NhY2hlRW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24tZGVtYW5kIHJldmFsaWRhdGUgYWx3YXlzIHNldHMgdGhpcyBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ3gtbmV4dGpzLWNhY2hlJywgJ1JFVkFMSURBVEVEJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZW5kKCdUaGlzIHBhZ2UgY291bGQgbm90IGJlIGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGludm9rZVJvdXRlTW9kdWxlKGN1cnJlbnRTcGFuKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLmZldGNoTWV0cmljcyA9IGNvbnRleHQucmVuZGVyT3B0cy5mZXRjaE1ldHJpY3M7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwZW5kaW5nV2FpdFVudGlsID0gY29udGV4dC5yZW5kZXJPcHRzLnBlbmRpbmdXYWl0VW50aWw7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF0dGVtcHQgdXNpbmcgcHJvdmlkZWQgd2FpdFVudGlsIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCdzIG5vdCB3ZSBmYWxsYmFjayB0byBzZW5kUmVzcG9uc2UncyBoYW5kbGluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ1dhaXRVbnRpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN0eC53YWl0VW50aWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHgud2FpdFVudGlsKHBlbmRpbmdXYWl0VW50aWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdXYWl0VW50aWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVUYWdzID0gY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFRhZ3M7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSByZXF1ZXN0IGlzIGZvciBhIHN0YXRpYyByZXNwb25zZSwgd2UgY2FuIGNhY2hlIGl0IHNvIGxvbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gYXMgaXQncyBub3QgZWRnZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSXNyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29weSB0aGUgaGVhZGVycyBmcm9tIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0b05vZGVPdXRnb2luZ0h0dHBIZWFkZXJzKHJlc3BvbnNlLmhlYWRlcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlVGFncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbTkVYVF9DQUNIRV9UQUdTX0hFQURFUl0gPSBjYWNoZVRhZ3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddICYmIGJsb2IudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID0gYmxvYi50eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV2YWxpZGF0ZSA9IHR5cGVvZiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGUgPj0gSU5GSU5JVEVfQ0FDSEUgPyBmYWxzZSA6IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwaXJlID0gdHlwZW9mIGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmUgPT09ICd1bmRlZmluZWQnIHx8IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmUgPj0gSU5GSU5JVEVfQ0FDSEUgPyB1bmRlZmluZWQgOiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBjYWNoZSBlbnRyeSBmb3IgdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBDYWNoZWRSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogQnVmZmVyLmZyb20oYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVDb250cm9sOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVFbnRyeTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlbmQgcmVzcG9uc2Ugd2l0aG91dCBjYWNoaW5nIGlmIG5vdCBJU1JcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIHJlc3BvbnNlLCBjb250ZXh0LnJlbmRlck9wdHMucGVuZGluZ1dhaXRVbnRpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEgYmFja2dyb3VuZCByZXZhbGlkYXRlIHdlIG5lZWQgdG8gcmVwb3J0XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSByZXF1ZXN0IGVycm9yIGhlcmUgYXMgaXQgd29uJ3QgYmUgYnViYmxlZFxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNDYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiBwcmV2aW91c0NhY2hlRW50cnkuaXNTdGFsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXJLaW5kOiAnQXBwIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVQYXRoOiBzcmNQYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlVHlwZTogJ3JvdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlUmVhc29uOiBnZXRSZXZhbGlkYXRlUmVhc29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByb3V0ZXJTZXJ2ZXJDb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlRW50cnkgPSBhd2FpdCByb3V0ZU1vZHVsZS5oYW5kbGVSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgIG5leHRDb25maWcsXG4gICAgICAgICAgICAgICAgY2FjaGVLZXksXG4gICAgICAgICAgICAgICAgcm91dGVLaW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICAgICAgICAgIGlzRmFsbGJhY2s6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHByZXJlbmRlck1hbmlmZXN0LFxuICAgICAgICAgICAgICAgIGlzUm91dGVQUFJFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICByZXZhbGlkYXRlT25seUdlbmVyYXRlZCxcbiAgICAgICAgICAgICAgICByZXNwb25zZUdlbmVyYXRvcixcbiAgICAgICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgY3JlYXRlIGEgY2FjaGVFbnRyeSBmb3IgSVNSXG4gICAgICAgICAgICBpZiAoIWlzSXNyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGNhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IChfY2FjaGVFbnRyeV92YWx1ZSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZS5raW5kKSAhPT0gQ2FjaGVkUm91dGVLaW5kLkFQUF9ST1VURSkge1xuICAgICAgICAgICAgICAgIHZhciBfY2FjaGVFbnRyeV92YWx1ZTE7XG4gICAgICAgICAgICAgICAgdGhyb3cgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBFcnJvcihgSW52YXJpYW50OiBhcHAtcm91dGUgcmVjZWl2ZWQgaW52YWxpZCBjYWNoZSBlbnRyeSAke2NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IChfY2FjaGVFbnRyeV92YWx1ZTEgPSBjYWNoZUVudHJ5LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlRW50cnlfdmFsdWUxLmtpbmR9YCksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJFNzAxXCIsXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ3gtbmV4dGpzLWNhY2hlJywgaXNPbkRlbWFuZFJldmFsaWRhdGUgPyAnUkVWQUxJREFURUQnIDogY2FjaGVFbnRyeS5pc01pc3MgPyAnTUlTUycgOiBjYWNoZUVudHJ5LmlzU3RhbGUgPyAnU1RBTEUnIDogJ0hJVCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRHJhZnQgbW9kZSBzaG91bGQgbmV2ZXIgYmUgY2FjaGVkXG4gICAgICAgICAgICBpZiAoaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJywgJ3ByaXZhdGUsIG5vLWNhY2hlLCBuby1zdG9yZSwgbWF4LWFnZT0wLCBtdXN0LXJldmFsaWRhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMoY2FjaGVFbnRyeS52YWx1ZS5oZWFkZXJzKTtcbiAgICAgICAgICAgIGlmICghKGdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykgJiYgaXNJc3IpKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVycy5kZWxldGUoTkVYVF9DQUNIRV9UQUdTX0hFQURFUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBjYWNoZSBjb250cm9sIGlzIGFscmVhZHkgc2V0IG9uIHRoZSByZXNwb25zZSB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gb3ZlcnJpZGUgaXQgdG8gYWxsb3cgdXNlcnMgdG8gY3VzdG9taXplIGl0IHZpYSBuZXh0LmNvbmZpZ1xuICAgICAgICAgICAgaWYgKGNhY2hlRW50cnkuY2FjaGVDb250cm9sICYmICFyZXMuZ2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJykgJiYgIWhlYWRlcnMuZ2V0KCdDYWNoZS1Db250cm9sJykpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLnNldCgnQ2FjaGUtQ29udHJvbCcsIGdldENhY2hlQ29udHJvbEhlYWRlcihjYWNoZUVudHJ5LmNhY2hlQ29udHJvbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgbmV3IFJlc3BvbnNlKGNhY2hlRW50cnkudmFsdWUuYm9keSwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBjYWNoZUVudHJ5LnZhbHVlLnN0YXR1cyB8fCAyMDBcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuICAgICAgICAvLyBUT0RPOiBhY3RpdmVTcGFuIGNvZGUgcGF0aCBpcyBmb3Igd2hlbiB3cmFwcGVkIGJ5XG4gICAgICAgIC8vIG5leHQtc2VydmVyIGNhbiBiZSByZW1vdmVkIHdoZW4gdGhpcyBpcyBubyBsb25nZXIgdXNlZFxuICAgICAgICBpZiAoYWN0aXZlU3Bhbikge1xuICAgICAgICAgICAgYXdhaXQgaGFuZGxlUmVzcG9uc2UoYWN0aXZlU3Bhbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0cmFjZXIud2l0aFByb3BhZ2F0ZWRDb250ZXh0KHJlcS5oZWFkZXJzLCAoKT0+dHJhY2VyLnRyYWNlKEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QsIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbk5hbWU6IGAke21ldGhvZH0gJHtyZXEudXJsfWAsXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IFNwYW5LaW5kLlNFUlZFUixcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAubWV0aG9kJzogbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAudGFyZ2V0JzogcmVxLnVybFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgaGFuZGxlUmVzcG9uc2UpKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBpZiB3ZSBhcmVuJ3Qgd3JhcHBlZCBieSBiYXNlLXNlcnZlciBoYW5kbGUgaGVyZVxuICAgICAgICBpZiAoIWFjdGl2ZVNwYW4gJiYgIShlcnIgaW5zdGFuY2VvZiBOb0ZhbGxiYWNrRXJyb3IpKSB7XG4gICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IG5vcm1hbGl6ZWRTcmNQYWdlLFxuICAgICAgICAgICAgICAgIHJvdXRlVHlwZTogJ3JvdXRlJyxcbiAgICAgICAgICAgICAgICByZXZhbGlkYXRlUmVhc29uOiBnZXRSZXZhbGlkYXRlUmVhc29uKHtcbiAgICAgICAgICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXRocm93IHNvIHRoYXQgd2UgY2FuIGhhbmRsZSBzZXJ2aW5nIGVycm9yIHBhZ2VcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBkdXJpbmcgc3RhdGljIGdlbmVyYXRpb24sIHRocm93IHRoZSBlcnJvciBhZ2Fpbi5cbiAgICAgICAgaWYgKGlzSXNyKSB0aHJvdyBlcnI7XG4gICAgICAgIC8vIE90aGVyd2lzZSwgc2VuZCBhIDUwMCByZXNwb25zZS5cbiAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgbmV3IFJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgICAgIHN0YXR1czogNTAwXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fnodes%2F%5Bid%5D%2Froute&page=%2Fapi%2Fnodes%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnodes%2F%5Bid%5D%2Froute.ts&appDir=C%3A%5CUsers%5Ctoowa%5COneDrive%5CDesktop%5CProjects%5CStatistics%5Cclient%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ctoowa%5COneDrive%5CDesktop%5CProjects%5CStatistics%5Cclient&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*******************************************************************************************************!*\
  !*** ../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./app/api/nodes/[id]/route.ts":
/*!*************************************!*\
  !*** ./app/api/nodes/[id]/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/../node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db-json */ \"(rsc)/./lib/db-json.ts\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n\n\n\nasync function GET(request, { params }) {\n    try {\n        const { id } = await params;\n        const node = (0,_lib_db_json__WEBPACK_IMPORTED_MODULE_1__.getNode)(parseInt(id));\n        if (!node) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Node not found'\n            }, {\n                status: 404\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(node);\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Failed to fetch node'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PUT(request, { params }) {\n    const session = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.getSession)();\n    if (!session || !session.isAdmin) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Unauthorized'\n        }, {\n            status: 401\n        });\n    }\n    try {\n        const { id } = await params;\n        const data = await request.json();\n        const success = (0,_lib_db_json__WEBPACK_IMPORTED_MODULE_1__.updateNode)(parseInt(id), data);\n        if (!success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Failed to update node'\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true\n        });\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Failed to update node'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE(request, { params }) {\n    const session = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.getSession)();\n    if (!session || !session.isAdmin) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Unauthorized'\n        }, {\n            status: 401\n        });\n    }\n    try {\n        const { id } = await params;\n        const success = (0,_lib_db_json__WEBPACK_IMPORTED_MODULE_1__.deleteNode)(parseInt(id));\n        if (!success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Node not found'\n            }, {\n                status: 404\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true\n        });\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Failed to delete node'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL25vZGVzL1tpZF0vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXdEO0FBQ1E7QUFDeEI7QUFFakMsZUFBZUssSUFDcEJDLE9BQWdCLEVBQ2hCLEVBQUVDLE1BQU0sRUFBdUM7SUFFL0MsSUFBSTtRQUNGLE1BQU0sRUFBRUMsRUFBRSxFQUFFLEdBQUcsTUFBTUQ7UUFDckIsTUFBTUUsT0FBT1IscURBQU9BLENBQUNTLFNBQVNGO1FBRTlCLElBQUksQ0FBQ0MsTUFBTTtZQUNULE9BQU9ULHFEQUFZQSxDQUFDVyxJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO1lBQWlCLEdBQzFCO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxPQUFPYixxREFBWUEsQ0FBQ1csSUFBSSxDQUFDRjtJQUMzQixFQUFFLE9BQU9HLE9BQU87UUFDZCxPQUFPWixxREFBWUEsQ0FBQ1csSUFBSSxDQUN0QjtZQUFFQyxPQUFPO1FBQXVCLEdBQ2hDO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGO0FBRU8sZUFBZUMsSUFDcEJSLE9BQW9CLEVBQ3BCLEVBQUVDLE1BQU0sRUFBdUM7SUFFL0MsTUFBTVEsVUFBVSxNQUFNWCxxREFBVUE7SUFDaEMsSUFBSSxDQUFDVyxXQUFXLENBQUNBLFFBQVFDLE9BQU8sRUFBRTtRQUNoQyxPQUFPaEIscURBQVlBLENBQUNXLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQWUsR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDcEU7SUFFQSxJQUFJO1FBQ0YsTUFBTSxFQUFFTCxFQUFFLEVBQUUsR0FBRyxNQUFNRDtRQUNyQixNQUFNVSxPQUFPLE1BQU1YLFFBQVFLLElBQUk7UUFDL0IsTUFBTU8sVUFBVWhCLHdEQUFVQSxDQUFDUSxTQUFTRixLQUFLUztRQUV6QyxJQUFJLENBQUNDLFNBQVM7WUFDWixPQUFPbEIscURBQVlBLENBQUNXLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87WUFBd0IsR0FDakM7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE9BQU9iLHFEQUFZQSxDQUFDVyxJQUFJLENBQUM7WUFBRU8sU0FBUztRQUFLO0lBQzNDLEVBQUUsT0FBT04sT0FBTztRQUNkLE9BQU9aLHFEQUFZQSxDQUFDVyxJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBd0IsR0FDakM7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0Y7QUFFTyxlQUFlTSxPQUNwQmIsT0FBb0IsRUFDcEIsRUFBRUMsTUFBTSxFQUF1QztJQUUvQyxNQUFNUSxVQUFVLE1BQU1YLHFEQUFVQTtJQUNoQyxJQUFJLENBQUNXLFdBQVcsQ0FBQ0EsUUFBUUMsT0FBTyxFQUFFO1FBQ2hDLE9BQU9oQixxREFBWUEsQ0FBQ1csSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBZSxHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUNwRTtJQUVBLElBQUk7UUFDRixNQUFNLEVBQUVMLEVBQUUsRUFBRSxHQUFHLE1BQU1EO1FBQ3JCLE1BQU1XLFVBQVVmLHdEQUFVQSxDQUFDTyxTQUFTRjtRQUVwQyxJQUFJLENBQUNVLFNBQVM7WUFDWixPQUFPbEIscURBQVlBLENBQUNXLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87WUFBaUIsR0FDMUI7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE9BQU9iLHFEQUFZQSxDQUFDVyxJQUFJLENBQUM7WUFBRU8sU0FBUztRQUFLO0lBQzNDLEVBQUUsT0FBT04sT0FBTztRQUNkLE9BQU9aLHFEQUFZQSxDQUFDVyxJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBd0IsR0FDakM7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcdG9vd2FcXE9uZURyaXZlXFxEZXNrdG9wXFxQcm9qZWN0c1xcU3RhdGlzdGljc1xcY2xpZW50XFxhcHBcXGFwaVxcbm9kZXNcXFtpZF1cXHJvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7IGdldE5vZGUsIHVwZGF0ZU5vZGUsIGRlbGV0ZU5vZGUgfSBmcm9tICdAL2xpYi9kYi1qc29uJztcclxuaW1wb3J0IHsgZ2V0U2Vzc2lvbiB9IGZyb20gJ0AvbGliL2F1dGgnO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChcclxuICByZXF1ZXN0OiBSZXF1ZXN0LFxyXG4gIHsgcGFyYW1zIH06IHsgcGFyYW1zOiBQcm9taXNlPHsgaWQ6IHN0cmluZyB9PiB9XHJcbikge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGlkIH0gPSBhd2FpdCBwYXJhbXM7XHJcbiAgICBjb25zdCBub2RlID0gZ2V0Tm9kZShwYXJzZUludChpZCkpO1xyXG4gICAgXHJcbiAgICBpZiAoIW5vZGUpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdOb2RlIG5vdCBmb3VuZCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDA0IH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKG5vZGUpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggbm9kZScgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChcclxuICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcclxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogUHJvbWlzZTx7IGlkOiBzdHJpbmcgfT4gfVxyXG4pIHtcclxuICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2Vzc2lvbigpO1xyXG4gIGlmICghc2Vzc2lvbiB8fCAhc2Vzc2lvbi5pc0FkbWluKSB7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KTtcclxuICB9XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgaWQgfSA9IGF3YWl0IHBhcmFtcztcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuICAgIGNvbnN0IHN1Y2Nlc3MgPSB1cGRhdGVOb2RlKHBhcnNlSW50KGlkKSwgZGF0YSk7XHJcbiAgICBcclxuICAgIGlmICghc3VjY2Vzcykge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byB1cGRhdGUgbm9kZScgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIHVwZGF0ZSBub2RlJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKFxyXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxyXG4gIHsgcGFyYW1zIH06IHsgcGFyYW1zOiBQcm9taXNlPHsgaWQ6IHN0cmluZyB9PiB9XHJcbikge1xyXG4gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXNzaW9uKCk7XHJcbiAgaWYgKCFzZXNzaW9uIHx8ICFzZXNzaW9uLmlzQWRtaW4pIHtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LCB7IHN0YXR1czogNDAxIH0pO1xyXG4gIH1cclxuICBcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBpZCB9ID0gYXdhaXQgcGFyYW1zO1xyXG4gICAgY29uc3Qgc3VjY2VzcyA9IGRlbGV0ZU5vZGUocGFyc2VJbnQoaWQpKTtcclxuICAgIFxyXG4gICAgaWYgKCFzdWNjZXNzKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnTm9kZSBub3QgZm91bmQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IHRydWUgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBkZWxldGUgbm9kZScgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJnZXROb2RlIiwidXBkYXRlTm9kZSIsImRlbGV0ZU5vZGUiLCJnZXRTZXNzaW9uIiwiR0VUIiwicmVxdWVzdCIsInBhcmFtcyIsImlkIiwibm9kZSIsInBhcnNlSW50IiwianNvbiIsImVycm9yIiwic3RhdHVzIiwiUFVUIiwic2Vzc2lvbiIsImlzQWRtaW4iLCJkYXRhIiwic3VjY2VzcyIsIkRFTEVURSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/nodes/[id]/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSession: () => (/* binding */ createSession),\n/* harmony export */   deleteSession: () => (/* binding */ deleteSession),\n/* harmony export */   getSession: () => (/* binding */ getSession),\n/* harmony export */   verifySession: () => (/* binding */ verifySession)\n/* harmony export */ });\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jose */ \"(rsc)/../node_modules/jose/dist/webapi/jwt/sign.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jose */ \"(rsc)/../node_modules/jose/dist/webapi/jwt/verify.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(rsc)/../node_modules/next/dist/api/headers.js\");\n\n\nconst secret = new TextEncoder().encode(process.env.JWT_SECRET || 'your-secret-key-change-this-in-production');\nasync function createSession(user) {\n    const token = await new jose__WEBPACK_IMPORTED_MODULE_1__.SignJWT({\n        user\n    }).setProtectedHeader({\n        alg: 'HS256'\n    }).setIssuedAt().setExpirationTime('24h').sign(secret);\n    return token;\n}\nasync function verifySession(token) {\n    try {\n        const { payload } = await (0,jose__WEBPACK_IMPORTED_MODULE_2__.jwtVerify)(token, secret);\n        return payload.user;\n    } catch  {\n        return null;\n    }\n}\nasync function getSession(request) {\n    const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)();\n    const token = cookieStore.get('session')?.value;\n    if (!token) return null;\n    return verifySession(token);\n}\nasync function deleteSession() {\n    const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)();\n    cookieStore.delete('session');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTBDO0FBQ0g7QUFHdkMsTUFBTUcsU0FBUyxJQUFJQyxjQUFjQyxNQUFNLENBQ3JDQyxRQUFRQyxHQUFHLENBQUNDLFVBQVUsSUFBSTtBQVVyQixlQUFlQyxjQUFjQyxJQUFpQjtJQUNuRCxNQUFNQyxRQUFRLE1BQU0sSUFBSVgseUNBQU9BLENBQUM7UUFBRVU7SUFBSyxHQUNwQ0Usa0JBQWtCLENBQUM7UUFBRUMsS0FBSztJQUFRLEdBQ2xDQyxXQUFXLEdBQ1hDLGlCQUFpQixDQUFDLE9BQ2xCQyxJQUFJLENBQUNiO0lBRVIsT0FBT1E7QUFDVDtBQUVPLGVBQWVNLGNBQWNOLEtBQWE7SUFDL0MsSUFBSTtRQUNGLE1BQU0sRUFBRU8sT0FBTyxFQUFFLEdBQUcsTUFBTWpCLCtDQUFTQSxDQUFDVSxPQUFPUjtRQUMzQyxPQUFPZSxRQUFRUixJQUFJO0lBQ3JCLEVBQUUsT0FBTTtRQUNOLE9BQU87SUFDVDtBQUNGO0FBRU8sZUFBZVMsV0FBV0MsT0FBcUI7SUFDcEQsTUFBTUMsY0FBYyxNQUFNbkIscURBQU9BO0lBQ2pDLE1BQU1TLFFBQVFVLFlBQVlDLEdBQUcsQ0FBQyxZQUFZQztJQUUxQyxJQUFJLENBQUNaLE9BQU8sT0FBTztJQUVuQixPQUFPTSxjQUFjTjtBQUN2QjtBQUVPLGVBQWVhO0lBQ3BCLE1BQU1ILGNBQWMsTUFBTW5CLHFEQUFPQTtJQUNqQ21CLFlBQVlJLE1BQU0sQ0FBQztBQUNyQiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFx0b293YVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2plY3RzXFxTdGF0aXN0aWNzXFxjbGllbnRcXGxpYlxcYXV0aC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTaWduSldULCBqd3RWZXJpZnkgfSBmcm9tICdqb3NlJztcclxuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycyc7XHJcbmltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5cclxuY29uc3Qgc2VjcmV0ID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKFxyXG4gIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3lvdXItc2VjcmV0LWtleS1jaGFuZ2UtdGhpcy1pbi1wcm9kdWN0aW9uJ1xyXG4pO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTZXNzaW9uVXNlciB7XHJcbiAgaWQ6IG51bWJlcjtcclxuICB1c2VybmFtZTogc3RyaW5nO1xyXG4gIGZpcnN0TmFtZTogc3RyaW5nO1xyXG4gIHJvbGVJZDogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlU2Vzc2lvbih1c2VyOiBTZXNzaW9uVXNlcik6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgY29uc3QgdG9rZW4gPSBhd2FpdCBuZXcgU2lnbkpXVCh7IHVzZXIgfSlcclxuICAgIC5zZXRQcm90ZWN0ZWRIZWFkZXIoeyBhbGc6ICdIUzI1NicgfSlcclxuICAgIC5zZXRJc3N1ZWRBdCgpXHJcbiAgICAuc2V0RXhwaXJhdGlvblRpbWUoJzI0aCcpXHJcbiAgICAuc2lnbihzZWNyZXQpO1xyXG4gIFxyXG4gIHJldHVybiB0b2tlbjtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZlcmlmeVNlc3Npb24odG9rZW46IHN0cmluZyk6IFByb21pc2U8U2Vzc2lvblVzZXIgfCBudWxsPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgcGF5bG9hZCB9ID0gYXdhaXQgand0VmVyaWZ5KHRva2VuLCBzZWNyZXQpO1xyXG4gICAgcmV0dXJuIHBheWxvYWQudXNlciBhcyBTZXNzaW9uVXNlcjtcclxuICB9IGNhdGNoIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlc3Npb24ocmVxdWVzdD86IE5leHRSZXF1ZXN0KTogUHJvbWlzZTxTZXNzaW9uVXNlciB8IG51bGw+IHtcclxuICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTtcclxuICBjb25zdCB0b2tlbiA9IGNvb2tpZVN0b3JlLmdldCgnc2Vzc2lvbicpPy52YWx1ZTtcclxuICBcclxuICBpZiAoIXRva2VuKSByZXR1cm4gbnVsbDtcclxuICBcclxuICByZXR1cm4gdmVyaWZ5U2Vzc2lvbih0b2tlbik7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVTZXNzaW9uKCkge1xyXG4gIGNvbnN0IGNvb2tpZVN0b3JlID0gYXdhaXQgY29va2llcygpO1xyXG4gIGNvb2tpZVN0b3JlLmRlbGV0ZSgnc2Vzc2lvbicpO1xyXG59Il0sIm5hbWVzIjpbIlNpZ25KV1QiLCJqd3RWZXJpZnkiLCJjb29raWVzIiwic2VjcmV0IiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImNyZWF0ZVNlc3Npb24iLCJ1c2VyIiwidG9rZW4iLCJzZXRQcm90ZWN0ZWRIZWFkZXIiLCJhbGciLCJzZXRJc3N1ZWRBdCIsInNldEV4cGlyYXRpb25UaW1lIiwic2lnbiIsInZlcmlmeVNlc3Npb24iLCJwYXlsb2FkIiwiZ2V0U2Vzc2lvbiIsInJlcXVlc3QiLCJjb29raWVTdG9yZSIsImdldCIsInZhbHVlIiwiZGVsZXRlU2Vzc2lvbiIsImRlbGV0ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db-json.ts":
/*!************************!*\
  !*** ./lib/db-json.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCategory: () => (/* binding */ createCategory),\n/* harmony export */   createNode: () => (/* binding */ createNode),\n/* harmony export */   createRole: () => (/* binding */ createRole),\n/* harmony export */   createUser: () => (/* binding */ createUser),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   deleteCategory: () => (/* binding */ deleteCategory),\n/* harmony export */   deleteNode: () => (/* binding */ deleteNode),\n/* harmony export */   deleteRole: () => (/* binding */ deleteRole),\n/* harmony export */   deleteUser: () => (/* binding */ deleteUser),\n/* harmony export */   getAllRoles: () => (/* binding */ getAllRoles),\n/* harmony export */   getAllUsers: () => (/* binding */ getAllUsers),\n/* harmony export */   getCategories: () => (/* binding */ getCategories),\n/* harmony export */   getNode: () => (/* binding */ getNode),\n/* harmony export */   getNodes: () => (/* binding */ getNodes),\n/* harmony export */   getRole: () => (/* binding */ getRole),\n/* harmony export */   getUser: () => (/* binding */ getUser),\n/* harmony export */   getUserById: () => (/* binding */ getUserById),\n/* harmony export */   getUserPermissions: () => (/* binding */ getUserPermissions),\n/* harmony export */   hashPassword: () => (/* binding */ hashPassword),\n/* harmony export */   updateLastLogin: () => (/* binding */ updateLastLogin),\n/* harmony export */   updateNode: () => (/* binding */ updateNode),\n/* harmony export */   updateRole: () => (/* binding */ updateRole),\n/* harmony export */   updateUser: () => (/* binding */ updateUser),\n/* harmony export */   updateUserPassword: () => (/* binding */ updateUserPassword),\n/* harmony export */   userExists: () => (/* binding */ userExists),\n/* harmony export */   verifyPassword: () => (/* binding */ verifyPassword)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/../node_modules/bcryptjs/index.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _permissions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./permissions */ \"(rsc)/./lib/permissions.ts\");\n\n\n\n\nconst dbPath = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), 'database.json');\nfunction getDb() {\n    try {\n        if (fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(dbPath)) {\n            const data = fs__WEBPACK_IMPORTED_MODULE_1___default().readFileSync(dbPath, 'utf-8');\n            return JSON.parse(data);\n        }\n    } catch (error) {\n        console.log('Creating new database...');\n    }\n    const defaultDb = {\n        users: [],\n        nodes: [],\n        categories: [\n            {\n                id: 1,\n                name: 'default',\n                color: '#ffffff',\n                icon: 'folder',\n                createdAt: new Date().toISOString()\n            }\n        ],\n        roles: _permissions__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_ROLES\n    };\n    saveDb(defaultDb);\n    return defaultDb;\n}\nfunction saveDb(db) {\n    fs__WEBPACK_IMPORTED_MODULE_1___default().writeFileSync(dbPath, JSON.stringify(db, null, 2));\n}\nconst userExists = ()=>{\n    const db = getDb();\n    return db.users.length > 0;\n};\nconst createUser = async (username, firstName, password, roleId = 'viewer', email)=>{\n    const db = getDb();\n    const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].hash(password, 10);\n    // First user is always admin\n    const isFirstUser = db.users.length === 0;\n    const user = {\n        id: db.users.length + 1,\n        username,\n        firstName,\n        password: hashedPassword,\n        roleId: isFirstUser ? 'admin' : roleId,\n        email,\n        isActive: true,\n        createdAt: new Date().toISOString()\n    };\n    db.users.push(user);\n    saveDb(db);\n    return user;\n};\nconst getUser = (username)=>{\n    const db = getDb();\n    return db.users.find((u)=>u.username === username);\n};\nconst verifyPassword = async (password, hash)=>{\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].compare(password, hash);\n};\nconst hashPassword = async (password)=>{\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].hash(password, 10);\n};\nconst getNodes = ()=>{\n    const db = getDb();\n    return db.nodes.sort((a, b)=>a.name.localeCompare(b.name));\n};\nconst getNode = (id)=>{\n    const db = getDb();\n    return db.nodes.find((n)=>n.id === id);\n};\nconst createNode = (name, url, apiKey, category)=>{\n    const db = getDb();\n    const node = {\n        id: Math.max(0, ...db.nodes.map((n)=>n.id)) + 1,\n        name,\n        url,\n        apiKey,\n        category: category || 'default',\n        status: 'offline',\n        lastCheck: new Date().toISOString(),\n        createdAt: new Date().toISOString()\n    };\n    db.nodes.push(node);\n    saveDb(db);\n    return node;\n};\nconst updateNode = (id, data)=>{\n    const db = getDb();\n    const index = db.nodes.findIndex((n)=>n.id === id);\n    if (index === -1) return false;\n    db.nodes[index] = {\n        ...db.nodes[index],\n        ...data\n    };\n    saveDb(db);\n    return true;\n};\nconst deleteNode = (id)=>{\n    const db = getDb();\n    const index = db.nodes.findIndex((n)=>n.id === id);\n    if (index === -1) return false;\n    db.nodes.splice(index, 1);\n    saveDb(db);\n    return true;\n};\nconst getCategories = ()=>{\n    const db = getDb();\n    return db.categories.sort((a, b)=>a.name.localeCompare(b.name));\n};\nconst createCategory = (name, color, icon)=>{\n    const db = getDb();\n    const category = {\n        id: Math.max(0, ...db.categories.map((c)=>c.id)) + 1,\n        name,\n        color: color || '#ffffff',\n        icon: icon || 'folder',\n        createdAt: new Date().toISOString()\n    };\n    db.categories.push(category);\n    saveDb(db);\n    return category;\n};\nconst deleteCategory = (id)=>{\n    const db = getDb();\n    const index = db.categories.findIndex((c)=>c.id === id && c.name !== 'default');\n    if (index === -1) return false;\n    db.categories.splice(index, 1);\n    saveDb(db);\n    return true;\n};\n// Additional user management functions\nconst getAllUsers = ()=>{\n    const db = getDb();\n    return db.users;\n};\nconst getUserById = (id)=>{\n    const db = getDb();\n    return db.users.find((u)=>u.id === id);\n};\nconst updateUser = (id, updates)=>{\n    const db = getDb();\n    const userIndex = db.users.findIndex((u)=>u.id === id);\n    if (userIndex === -1) return false;\n    // Don't allow updating certain fields\n    const { id: _, password: __, ...safeUpdates } = updates;\n    db.users[userIndex] = {\n        ...db.users[userIndex],\n        ...safeUpdates\n    };\n    saveDb(db);\n    return true;\n};\nconst updateUserPassword = async (id, newPassword)=>{\n    const db = getDb();\n    const userIndex = db.users.findIndex((u)=>u.id === id);\n    if (userIndex === -1) return false;\n    const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].hash(newPassword, 10);\n    db.users[userIndex].password = hashedPassword;\n    saveDb(db);\n    return true;\n};\nconst deleteUser = (id)=>{\n    const db = getDb();\n    // Don't delete the last admin\n    const user = db.users.find((u)=>u.id === id);\n    if (user?.roleId === 'admin') {\n        const adminCount = db.users.filter((u)=>u.roleId === 'admin').length;\n        if (adminCount <= 1) return false;\n    }\n    const index = db.users.findIndex((u)=>u.id === id);\n    if (index === -1) return false;\n    db.users.splice(index, 1);\n    saveDb(db);\n    return true;\n};\nconst updateLastLogin = (username)=>{\n    const db = getDb();\n    const userIndex = db.users.findIndex((u)=>u.username === username);\n    if (userIndex !== -1) {\n        db.users[userIndex].lastLogin = new Date().toISOString();\n        saveDb(db);\n    }\n};\n// Role Management Functions\nconst getAllRoles = ()=>{\n    const db = getDb();\n    return db.roles || _permissions__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_ROLES;\n};\nconst getRole = (id)=>{\n    const db = getDb();\n    return db.roles.find((r)=>r.id === id);\n};\nconst createRole = (name, description, permissions)=>{\n    const db = getDb();\n    const role = {\n        id: name.toLowerCase().replace(/\\s+/g, '_'),\n        name,\n        description,\n        permissions,\n        isSystem: false,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n    };\n    if (!db.roles) db.roles = _permissions__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_ROLES;\n    db.roles.push(role);\n    saveDb(db);\n    return role;\n};\nconst updateRole = (id, updates)=>{\n    const db = getDb();\n    const roleIndex = db.roles.findIndex((r)=>r.id === id);\n    if (roleIndex === -1 || db.roles[roleIndex].isSystem) return false;\n    const { id: _, isSystem: __, ...safeUpdates } = updates;\n    db.roles[roleIndex] = {\n        ...db.roles[roleIndex],\n        ...safeUpdates,\n        updatedAt: new Date().toISOString()\n    };\n    saveDb(db);\n    return true;\n};\nconst deleteRole = (id)=>{\n    const db = getDb();\n    const role = db.roles.find((r)=>r.id === id);\n    // Can't delete system roles\n    if (!role || role.isSystem) return false;\n    // Check if any users have this role\n    const usersWithRole = db.users.filter((u)=>u.roleId === id);\n    if (usersWithRole.length > 0) return false;\n    const index = db.roles.findIndex((r)=>r.id === id);\n    db.roles.splice(index, 1);\n    saveDb(db);\n    return true;\n};\nconst getUserPermissions = (userId)=>{\n    const db = getDb();\n    const user = db.users?.find((u)=>u.id === userId);\n    if (!user) return [];\n    const role = db.roles?.find((r)=>r.id === user.roleId);\n    return role ? role.permissions : [];\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getDb);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVQLE9BQU87QUFDVCxFQUFFO0FBRUssTUFBTStFLHFCQUFxQixDQUFDQztJQUNqQyxNQUFNaEYsS0FBS3RCO0lBQ1gsTUFBTW9DLE9BQU9kLEdBQUdaLEtBQUssRUFBRThCLEtBQUtDLENBQUFBLElBQUtBLEVBQUU1QixFQUFFLEtBQUt5RjtJQUMxQyxJQUFJLENBQUNsRSxNQUFNLE9BQU8sRUFBRTtJQUVwQixNQUFNd0QsT0FBT3RFLEdBQUdGLEtBQUssRUFBRW9CLEtBQUtnRCxDQUFBQSxJQUFLQSxFQUFFM0UsRUFBRSxLQUFLdUIsS0FBS0wsTUFBTTtJQUNyRCxPQUFPNkQsT0FBT0EsS0FBS0QsV0FBVyxHQUFHLEVBQUU7QUFDckMsRUFBRTtBQUVGLGlFQUFlM0YsS0FBS0EsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFx0b293YVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2plY3RzXFxTdGF0aXN0aWNzXFxjbGllbnRcXGxpYlxcZGItanNvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJztcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJztcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XHJcbmltcG9ydCB7IERFRkFVTFRfUk9MRVMgfSBmcm9tICcuL3Blcm1pc3Npb25zJztcclxuXHJcbmNvbnN0IGRiUGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnZGF0YWJhc2UuanNvbicpO1xyXG5cclxuaW50ZXJmYWNlIERhdGFiYXNlIHtcclxuICB1c2VyczogVXNlcltdO1xyXG4gIG5vZGVzOiBOb2RlW107XHJcbiAgY2F0ZWdvcmllczogQ2F0ZWdvcnlbXTtcclxuICByb2xlczogUm9sZVtdO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZXIge1xyXG4gIGlkOiBudW1iZXI7XHJcbiAgdXNlcm5hbWU6IHN0cmluZztcclxuICBmaXJzdE5hbWU6IHN0cmluZztcclxuICBwYXNzd29yZDogc3RyaW5nO1xyXG4gIHJvbGVJZDogc3RyaW5nOyAvLyBDaGFuZ2VkIGZyb20gcm9sZSB0byByb2xlSWRcclxuICBlbWFpbD86IHN0cmluZztcclxuICBpc0FjdGl2ZTogYm9vbGVhbjtcclxuICBsYXN0TG9naW4/OiBzdHJpbmc7XHJcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUm9sZSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBwZXJtaXNzaW9uczogc3RyaW5nW107XHJcbiAgaXNTeXN0ZW06IGJvb2xlYW47XHJcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XHJcbiAgdXBkYXRlZEF0OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTm9kZSB7XHJcbiAgaWQ6IG51bWJlcjtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgdXJsOiBzdHJpbmc7XHJcbiAgYXBpS2V5OiBzdHJpbmc7XHJcbiAgY2F0ZWdvcnk6IHN0cmluZztcclxuICBzdGF0dXM6IHN0cmluZztcclxuICBsYXN0Q2hlY2s6IHN0cmluZztcclxuICBjcmVhdGVkQXQ6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDYXRlZ29yeSB7XHJcbiAgaWQ6IG51bWJlcjtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgY29sb3I6IHN0cmluZztcclxuICBpY29uOiBzdHJpbmc7XHJcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldERiKCk6IERhdGFiYXNlIHtcclxuICB0cnkge1xyXG4gICAgaWYgKGZzLmV4aXN0c1N5bmMoZGJQYXRoKSkge1xyXG4gICAgICBjb25zdCBkYXRhID0gZnMucmVhZEZpbGVTeW5jKGRiUGF0aCwgJ3V0Zi04Jyk7XHJcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgbmV3IGRhdGFiYXNlLi4uJyk7XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0IGRlZmF1bHREYjogRGF0YWJhc2UgPSB7XHJcbiAgICB1c2VyczogW10sXHJcbiAgICBub2RlczogW10sXHJcbiAgICBjYXRlZ29yaWVzOiBbXHJcbiAgICAgIHsgaWQ6IDEsIG5hbWU6ICdkZWZhdWx0JywgY29sb3I6ICcjZmZmZmZmJywgaWNvbjogJ2ZvbGRlcicsIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH1cclxuICAgIF0sXHJcbiAgICByb2xlczogREVGQVVMVF9ST0xFU1xyXG4gIH07XHJcbiAgXHJcbiAgc2F2ZURiKGRlZmF1bHREYik7XHJcbiAgcmV0dXJuIGRlZmF1bHREYjtcclxufVxyXG5cclxuZnVuY3Rpb24gc2F2ZURiKGRiOiBEYXRhYmFzZSk6IHZvaWQge1xyXG4gIGZzLndyaXRlRmlsZVN5bmMoZGJQYXRoLCBKU09OLnN0cmluZ2lmeShkYiwgbnVsbCwgMikpO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgdXNlckV4aXN0cyA9ICgpOiBib29sZWFuID0+IHtcclxuICBjb25zdCBkYiA9IGdldERiKCk7XHJcbiAgcmV0dXJuIGRiLnVzZXJzLmxlbmd0aCA+IDA7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlVXNlciA9IGFzeW5jIChcclxuICB1c2VybmFtZTogc3RyaW5nLCBcclxuICBmaXJzdE5hbWU6IHN0cmluZywgXHJcbiAgcGFzc3dvcmQ6IHN0cmluZyxcclxuICByb2xlSWQ6IHN0cmluZyA9ICd2aWV3ZXInLFxyXG4gIGVtYWlsPzogc3RyaW5nXHJcbik6IFByb21pc2U8VXNlcj4gPT4ge1xyXG4gIGNvbnN0IGRiID0gZ2V0RGIoKTtcclxuICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMCk7XHJcbiAgXHJcbiAgLy8gRmlyc3QgdXNlciBpcyBhbHdheXMgYWRtaW5cclxuICBjb25zdCBpc0ZpcnN0VXNlciA9IGRiLnVzZXJzLmxlbmd0aCA9PT0gMDtcclxuICBcclxuICBjb25zdCB1c2VyOiBVc2VyID0ge1xyXG4gICAgaWQ6IGRiLnVzZXJzLmxlbmd0aCArIDEsXHJcbiAgICB1c2VybmFtZSxcclxuICAgIGZpcnN0TmFtZSxcclxuICAgIHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCxcclxuICAgIHJvbGVJZDogaXNGaXJzdFVzZXIgPyAnYWRtaW4nIDogcm9sZUlkLFxyXG4gICAgZW1haWwsXHJcbiAgICBpc0FjdGl2ZTogdHJ1ZSxcclxuICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgfTtcclxuICBcclxuICBkYi51c2Vycy5wdXNoKHVzZXIpO1xyXG4gIHNhdmVEYihkYik7XHJcbiAgXHJcbiAgcmV0dXJuIHVzZXI7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0VXNlciA9ICh1c2VybmFtZTogc3RyaW5nKTogVXNlciB8IHVuZGVmaW5lZCA9PiB7XHJcbiAgY29uc3QgZGIgPSBnZXREYigpO1xyXG4gIHJldHVybiBkYi51c2Vycy5maW5kKHUgPT4gdS51c2VybmFtZSA9PT0gdXNlcm5hbWUpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHZlcmlmeVBhc3N3b3JkID0gYXN5bmMgKHBhc3N3b3JkOiBzdHJpbmcsIGhhc2g6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xyXG4gIHJldHVybiBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgaGFzaCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgaGFzaFBhc3N3b3JkID0gYXN5bmMgKHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xyXG4gIHJldHVybiBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTApO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldE5vZGVzID0gKCk6IE5vZGVbXSA9PiB7XHJcbiAgY29uc3QgZGIgPSBnZXREYigpO1xyXG4gIHJldHVybiBkYi5ub2Rlcy5zb3J0KChhLCBiKSA9PiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXROb2RlID0gKGlkOiBudW1iZXIpOiBOb2RlIHwgdW5kZWZpbmVkID0+IHtcclxuICBjb25zdCBkYiA9IGdldERiKCk7XHJcbiAgcmV0dXJuIGRiLm5vZGVzLmZpbmQobiA9PiBuLmlkID09PSBpZCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlTm9kZSA9IChuYW1lOiBzdHJpbmcsIHVybDogc3RyaW5nLCBhcGlLZXk6IHN0cmluZywgY2F0ZWdvcnk/OiBzdHJpbmcpOiBOb2RlID0+IHtcclxuICBjb25zdCBkYiA9IGdldERiKCk7XHJcbiAgXHJcbiAgY29uc3Qgbm9kZTogTm9kZSA9IHtcclxuICAgIGlkOiBNYXRoLm1heCgwLCAuLi5kYi5ub2Rlcy5tYXAobiA9PiBuLmlkKSkgKyAxLFxyXG4gICAgbmFtZSxcclxuICAgIHVybCxcclxuICAgIGFwaUtleSxcclxuICAgIGNhdGVnb3J5OiBjYXRlZ29yeSB8fCAnZGVmYXVsdCcsXHJcbiAgICBzdGF0dXM6ICdvZmZsaW5lJyxcclxuICAgIGxhc3RDaGVjazogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICB9O1xyXG4gIFxyXG4gIGRiLm5vZGVzLnB1c2gobm9kZSk7XHJcbiAgc2F2ZURiKGRiKTtcclxuICBcclxuICByZXR1cm4gbm9kZTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVOb2RlID0gKGlkOiBudW1iZXIsIGRhdGE6IFBhcnRpYWw8Tm9kZT4pOiBib29sZWFuID0+IHtcclxuICBjb25zdCBkYiA9IGdldERiKCk7XHJcbiAgY29uc3QgaW5kZXggPSBkYi5ub2Rlcy5maW5kSW5kZXgobiA9PiBuLmlkID09PSBpZCk7XHJcbiAgXHJcbiAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIGZhbHNlO1xyXG4gIFxyXG4gIGRiLm5vZGVzW2luZGV4XSA9IHsgLi4uZGIubm9kZXNbaW5kZXhdLCAuLi5kYXRhIH07XHJcbiAgc2F2ZURiKGRiKTtcclxuICBcclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBkZWxldGVOb2RlID0gKGlkOiBudW1iZXIpOiBib29sZWFuID0+IHtcclxuICBjb25zdCBkYiA9IGdldERiKCk7XHJcbiAgY29uc3QgaW5kZXggPSBkYi5ub2Rlcy5maW5kSW5kZXgobiA9PiBuLmlkID09PSBpZCk7XHJcbiAgXHJcbiAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIGZhbHNlO1xyXG4gIFxyXG4gIGRiLm5vZGVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgc2F2ZURiKGRiKTtcclxuICBcclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRDYXRlZ29yaWVzID0gKCk6IENhdGVnb3J5W10gPT4ge1xyXG4gIGNvbnN0IGRiID0gZ2V0RGIoKTtcclxuICByZXR1cm4gZGIuY2F0ZWdvcmllcy5zb3J0KChhLCBiKSA9PiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDYXRlZ29yeSA9IChuYW1lOiBzdHJpbmcsIGNvbG9yPzogc3RyaW5nLCBpY29uPzogc3RyaW5nKTogQ2F0ZWdvcnkgPT4ge1xyXG4gIGNvbnN0IGRiID0gZ2V0RGIoKTtcclxuICBcclxuICBjb25zdCBjYXRlZ29yeTogQ2F0ZWdvcnkgPSB7XHJcbiAgICBpZDogTWF0aC5tYXgoMCwgLi4uZGIuY2F0ZWdvcmllcy5tYXAoYyA9PiBjLmlkKSkgKyAxLFxyXG4gICAgbmFtZSxcclxuICAgIGNvbG9yOiBjb2xvciB8fCAnI2ZmZmZmZicsXHJcbiAgICBpY29uOiBpY29uIHx8ICdmb2xkZXInLFxyXG4gICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICB9O1xyXG4gIFxyXG4gIGRiLmNhdGVnb3JpZXMucHVzaChjYXRlZ29yeSk7XHJcbiAgc2F2ZURiKGRiKTtcclxuICBcclxuICByZXR1cm4gY2F0ZWdvcnk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZGVsZXRlQ2F0ZWdvcnkgPSAoaWQ6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xyXG4gIGNvbnN0IGRiID0gZ2V0RGIoKTtcclxuICBjb25zdCBpbmRleCA9IGRiLmNhdGVnb3JpZXMuZmluZEluZGV4KGMgPT4gYy5pZCA9PT0gaWQgJiYgYy5uYW1lICE9PSAnZGVmYXVsdCcpO1xyXG4gIFxyXG4gIGlmIChpbmRleCA9PT0gLTEpIHJldHVybiBmYWxzZTtcclxuICBcclxuICBkYi5jYXRlZ29yaWVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgc2F2ZURiKGRiKTtcclxuICBcclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcbi8vIEFkZGl0aW9uYWwgdXNlciBtYW5hZ2VtZW50IGZ1bmN0aW9uc1xyXG5leHBvcnQgY29uc3QgZ2V0QWxsVXNlcnMgPSAoKTogVXNlcltdID0+IHtcclxuICBjb25zdCBkYiA9IGdldERiKCk7XHJcbiAgcmV0dXJuIGRiLnVzZXJzO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFVzZXJCeUlkID0gKGlkOiBudW1iZXIpOiBVc2VyIHwgdW5kZWZpbmVkID0+IHtcclxuICBjb25zdCBkYiA9IGdldERiKCk7XHJcbiAgcmV0dXJuIGRiLnVzZXJzLmZpbmQodSA9PiB1LmlkID09PSBpZCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlciA9IChpZDogbnVtYmVyLCB1cGRhdGVzOiBQYXJ0aWFsPFVzZXI+KTogYm9vbGVhbiA9PiB7XHJcbiAgY29uc3QgZGIgPSBnZXREYigpO1xyXG4gIGNvbnN0IHVzZXJJbmRleCA9IGRiLnVzZXJzLmZpbmRJbmRleCh1ID0+IHUuaWQgPT09IGlkKTtcclxuICBcclxuICBpZiAodXNlckluZGV4ID09PSAtMSkgcmV0dXJuIGZhbHNlO1xyXG4gIFxyXG4gIC8vIERvbid0IGFsbG93IHVwZGF0aW5nIGNlcnRhaW4gZmllbGRzXHJcbiAgY29uc3QgeyBpZDogXywgcGFzc3dvcmQ6IF9fLCAuLi5zYWZlVXBkYXRlcyB9ID0gdXBkYXRlcztcclxuICBcclxuICBkYi51c2Vyc1t1c2VySW5kZXhdID0ge1xyXG4gICAgLi4uZGIudXNlcnNbdXNlckluZGV4XSxcclxuICAgIC4uLnNhZmVVcGRhdGVzXHJcbiAgfTtcclxuICBcclxuICBzYXZlRGIoZGIpO1xyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXJQYXNzd29yZCA9IGFzeW5jIChpZDogbnVtYmVyLCBuZXdQYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XHJcbiAgY29uc3QgZGIgPSBnZXREYigpO1xyXG4gIGNvbnN0IHVzZXJJbmRleCA9IGRiLnVzZXJzLmZpbmRJbmRleCh1ID0+IHUuaWQgPT09IGlkKTtcclxuICBcclxuICBpZiAodXNlckluZGV4ID09PSAtMSkgcmV0dXJuIGZhbHNlO1xyXG4gIFxyXG4gIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gobmV3UGFzc3dvcmQsIDEwKTtcclxuICBkYi51c2Vyc1t1c2VySW5kZXhdLnBhc3N3b3JkID0gaGFzaGVkUGFzc3dvcmQ7XHJcbiAgXHJcbiAgc2F2ZURiKGRiKTtcclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBkZWxldGVVc2VyID0gKGlkOiBudW1iZXIpOiBib29sZWFuID0+IHtcclxuICBjb25zdCBkYiA9IGdldERiKCk7XHJcbiAgXHJcbiAgLy8gRG9uJ3QgZGVsZXRlIHRoZSBsYXN0IGFkbWluXHJcbiAgY29uc3QgdXNlciA9IGRiLnVzZXJzLmZpbmQodSA9PiB1LmlkID09PSBpZCk7XHJcbiAgaWYgKHVzZXI/LnJvbGVJZCA9PT0gJ2FkbWluJykge1xyXG4gICAgY29uc3QgYWRtaW5Db3VudCA9IGRiLnVzZXJzLmZpbHRlcih1ID0+IHUucm9sZUlkID09PSAnYWRtaW4nKS5sZW5ndGg7XHJcbiAgICBpZiAoYWRtaW5Db3VudCA8PSAxKSByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0IGluZGV4ID0gZGIudXNlcnMuZmluZEluZGV4KHUgPT4gdS5pZCA9PT0gaWQpO1xyXG4gIGlmIChpbmRleCA9PT0gLTEpIHJldHVybiBmYWxzZTtcclxuICBcclxuICBkYi51c2Vycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gIHNhdmVEYihkYik7XHJcbiAgXHJcbiAgcmV0dXJuIHRydWU7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlTGFzdExvZ2luID0gKHVzZXJuYW1lOiBzdHJpbmcpOiB2b2lkID0+IHtcclxuICBjb25zdCBkYiA9IGdldERiKCk7XHJcbiAgY29uc3QgdXNlckluZGV4ID0gZGIudXNlcnMuZmluZEluZGV4KHUgPT4gdS51c2VybmFtZSA9PT0gdXNlcm5hbWUpO1xyXG4gIFxyXG4gIGlmICh1c2VySW5kZXggIT09IC0xKSB7XHJcbiAgICBkYi51c2Vyc1t1c2VySW5kZXhdLmxhc3RMb2dpbiA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuICAgIHNhdmVEYihkYik7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gUm9sZSBNYW5hZ2VtZW50IEZ1bmN0aW9uc1xyXG5leHBvcnQgY29uc3QgZ2V0QWxsUm9sZXMgPSAoKTogUm9sZVtdID0+IHtcclxuICBjb25zdCBkYiA9IGdldERiKCk7XHJcbiAgcmV0dXJuIGRiLnJvbGVzIHx8IERFRkFVTFRfUk9MRVM7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0Um9sZSA9IChpZDogc3RyaW5nKTogUm9sZSB8IHVuZGVmaW5lZCA9PiB7XHJcbiAgY29uc3QgZGIgPSBnZXREYigpO1xyXG4gIHJldHVybiBkYi5yb2xlcy5maW5kKHIgPT4gci5pZCA9PT0gaWQpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVJvbGUgPSAobmFtZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nLCBwZXJtaXNzaW9uczogc3RyaW5nW10pOiBSb2xlID0+IHtcclxuICBjb25zdCBkYiA9IGdldERiKCk7XHJcbiAgXHJcbiAgY29uc3Qgcm9sZTogUm9sZSA9IHtcclxuICAgIGlkOiBuYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCAnXycpLFxyXG4gICAgbmFtZSxcclxuICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgcGVybWlzc2lvbnMsXHJcbiAgICBpc1N5c3RlbTogZmFsc2UsXHJcbiAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgfTtcclxuICBcclxuICBpZiAoIWRiLnJvbGVzKSBkYi5yb2xlcyA9IERFRkFVTFRfUk9MRVM7XHJcbiAgZGIucm9sZXMucHVzaChyb2xlKTtcclxuICBzYXZlRGIoZGIpO1xyXG4gIFxyXG4gIHJldHVybiByb2xlO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVJvbGUgPSAoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxSb2xlPik6IGJvb2xlYW4gPT4ge1xyXG4gIGNvbnN0IGRiID0gZ2V0RGIoKTtcclxuICBjb25zdCByb2xlSW5kZXggPSBkYi5yb2xlcy5maW5kSW5kZXgociA9PiByLmlkID09PSBpZCk7XHJcbiAgXHJcbiAgaWYgKHJvbGVJbmRleCA9PT0gLTEgfHwgZGIucm9sZXNbcm9sZUluZGV4XS5pc1N5c3RlbSkgcmV0dXJuIGZhbHNlO1xyXG4gIFxyXG4gIGNvbnN0IHsgaWQ6IF8sIGlzU3lzdGVtOiBfXywgLi4uc2FmZVVwZGF0ZXMgfSA9IHVwZGF0ZXM7XHJcbiAgXHJcbiAgZGIucm9sZXNbcm9sZUluZGV4XSA9IHtcclxuICAgIC4uLmRiLnJvbGVzW3JvbGVJbmRleF0sXHJcbiAgICAuLi5zYWZlVXBkYXRlcyxcclxuICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgfTtcclxuICBcclxuICBzYXZlRGIoZGIpO1xyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZVJvbGUgPSAoaWQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xyXG4gIGNvbnN0IGRiID0gZ2V0RGIoKTtcclxuICBjb25zdCByb2xlID0gZGIucm9sZXMuZmluZChyID0+IHIuaWQgPT09IGlkKTtcclxuICBcclxuICAvLyBDYW4ndCBkZWxldGUgc3lzdGVtIHJvbGVzXHJcbiAgaWYgKCFyb2xlIHx8IHJvbGUuaXNTeXN0ZW0pIHJldHVybiBmYWxzZTtcclxuICBcclxuICAvLyBDaGVjayBpZiBhbnkgdXNlcnMgaGF2ZSB0aGlzIHJvbGVcclxuICBjb25zdCB1c2Vyc1dpdGhSb2xlID0gZGIudXNlcnMuZmlsdGVyKHUgPT4gdS5yb2xlSWQgPT09IGlkKTtcclxuICBpZiAodXNlcnNXaXRoUm9sZS5sZW5ndGggPiAwKSByZXR1cm4gZmFsc2U7XHJcbiAgXHJcbiAgY29uc3QgaW5kZXggPSBkYi5yb2xlcy5maW5kSW5kZXgociA9PiByLmlkID09PSBpZCk7XHJcbiAgZGIucm9sZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICBzYXZlRGIoZGIpO1xyXG4gIFxyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFVzZXJQZXJtaXNzaW9ucyA9ICh1c2VySWQ6IG51bWJlcik6IHN0cmluZ1tdID0+IHtcclxuICBjb25zdCBkYiA9IGdldERiKCk7XHJcbiAgY29uc3QgdXNlciA9IGRiLnVzZXJzPy5maW5kKHUgPT4gdS5pZCA9PT0gdXNlcklkKTtcclxuICBpZiAoIXVzZXIpIHJldHVybiBbXTtcclxuICBcclxuICBjb25zdCByb2xlID0gZGIucm9sZXM/LmZpbmQociA9PiByLmlkID09PSB1c2VyLnJvbGVJZCk7XHJcbiAgcmV0dXJuIHJvbGUgPyByb2xlLnBlcm1pc3Npb25zIDogW107XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBnZXREYjsiXSwibmFtZXMiOlsiYmNyeXB0IiwiZnMiLCJwYXRoIiwiREVGQVVMVF9ST0xFUyIsImRiUGF0aCIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiZ2V0RGIiLCJleGlzdHNTeW5jIiwiZGF0YSIsInJlYWRGaWxlU3luYyIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImRlZmF1bHREYiIsInVzZXJzIiwibm9kZXMiLCJjYXRlZ29yaWVzIiwiaWQiLCJuYW1lIiwiY29sb3IiLCJpY29uIiwiY3JlYXRlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicm9sZXMiLCJzYXZlRGIiLCJkYiIsIndyaXRlRmlsZVN5bmMiLCJzdHJpbmdpZnkiLCJ1c2VyRXhpc3RzIiwibGVuZ3RoIiwiY3JlYXRlVXNlciIsInVzZXJuYW1lIiwiZmlyc3ROYW1lIiwicGFzc3dvcmQiLCJyb2xlSWQiLCJlbWFpbCIsImhhc2hlZFBhc3N3b3JkIiwiaGFzaCIsImlzRmlyc3RVc2VyIiwidXNlciIsImlzQWN0aXZlIiwicHVzaCIsImdldFVzZXIiLCJmaW5kIiwidSIsInZlcmlmeVBhc3N3b3JkIiwiY29tcGFyZSIsImhhc2hQYXNzd29yZCIsImdldE5vZGVzIiwic29ydCIsImEiLCJiIiwibG9jYWxlQ29tcGFyZSIsImdldE5vZGUiLCJuIiwiY3JlYXRlTm9kZSIsInVybCIsImFwaUtleSIsImNhdGVnb3J5Iiwibm9kZSIsIk1hdGgiLCJtYXgiLCJtYXAiLCJzdGF0dXMiLCJsYXN0Q2hlY2siLCJ1cGRhdGVOb2RlIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJkZWxldGVOb2RlIiwic3BsaWNlIiwiZ2V0Q2F0ZWdvcmllcyIsImNyZWF0ZUNhdGVnb3J5IiwiYyIsImRlbGV0ZUNhdGVnb3J5IiwiZ2V0QWxsVXNlcnMiLCJnZXRVc2VyQnlJZCIsInVwZGF0ZVVzZXIiLCJ1cGRhdGVzIiwidXNlckluZGV4IiwiXyIsIl9fIiwic2FmZVVwZGF0ZXMiLCJ1cGRhdGVVc2VyUGFzc3dvcmQiLCJuZXdQYXNzd29yZCIsImRlbGV0ZVVzZXIiLCJhZG1pbkNvdW50IiwiZmlsdGVyIiwidXBkYXRlTGFzdExvZ2luIiwibGFzdExvZ2luIiwiZ2V0QWxsUm9sZXMiLCJnZXRSb2xlIiwiciIsImNyZWF0ZVJvbGUiLCJkZXNjcmlwdGlvbiIsInBlcm1pc3Npb25zIiwicm9sZSIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsImlzU3lzdGVtIiwidXBkYXRlZEF0IiwidXBkYXRlUm9sZSIsInJvbGVJbmRleCIsImRlbGV0ZVJvbGUiLCJ1c2Vyc1dpdGhSb2xlIiwiZ2V0VXNlclBlcm1pc3Npb25zIiwidXNlcklkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db-json.ts\n");

/***/ }),

/***/ "(rsc)/./lib/permissions.ts":
/*!****************************!*\
  !*** ./lib/permissions.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_ROLES: () => (/* binding */ DEFAULT_ROLES),\n/* harmony export */   PERMISSIONS: () => (/* binding */ PERMISSIONS),\n/* harmony export */   getPermissionsByCategory: () => (/* binding */ getPermissionsByCategory),\n/* harmony export */   getRolePermissions: () => (/* binding */ getRolePermissions),\n/* harmony export */   hasAllPermissions: () => (/* binding */ hasAllPermissions),\n/* harmony export */   hasAnyPermission: () => (/* binding */ hasAnyPermission),\n/* harmony export */   hasPermission: () => (/* binding */ hasPermission)\n/* harmony export */ });\n// Permission system for fine-grained access control\n// All available permissions in the system\nconst PERMISSIONS = {\n    // Node Management\n    'nodes.view': {\n        id: 'nodes.view',\n        name: 'View Nodes',\n        description: 'View list of nodes and their basic information',\n        category: 'nodes'\n    },\n    'nodes.create': {\n        id: 'nodes.create',\n        name: 'Create Nodes',\n        description: 'Add new nodes to the system',\n        category: 'nodes'\n    },\n    'nodes.edit': {\n        id: 'nodes.edit',\n        name: 'Edit Nodes',\n        description: 'Modify node configuration and settings',\n        category: 'nodes'\n    },\n    'nodes.delete': {\n        id: 'nodes.delete',\n        name: 'Delete Nodes',\n        description: 'Remove nodes from the system',\n        category: 'nodes'\n    },\n    'nodes.power': {\n        id: 'nodes.power',\n        name: 'Power Control',\n        description: 'Reboot or shutdown nodes',\n        category: 'nodes'\n    },\n    // User Management\n    'users.view': {\n        id: 'users.view',\n        name: 'View Users',\n        description: 'View user list and profiles',\n        category: 'users'\n    },\n    'users.create': {\n        id: 'users.create',\n        name: 'Create Users',\n        description: 'Add new users to the system',\n        category: 'users'\n    },\n    'users.edit': {\n        id: 'users.edit',\n        name: 'Edit Users',\n        description: 'Modify user information and settings',\n        category: 'users'\n    },\n    'users.delete': {\n        id: 'users.delete',\n        name: 'Delete Users',\n        description: 'Remove users from the system',\n        category: 'users'\n    },\n    'users.roles': {\n        id: 'users.roles',\n        name: 'Manage User Roles',\n        description: 'Assign and modify user roles',\n        category: 'users'\n    },\n    // API Key Management\n    'apikeys.view': {\n        id: 'apikeys.view',\n        name: 'View API Keys',\n        description: 'View API keys and their permissions',\n        category: 'apikeys'\n    },\n    'apikeys.create': {\n        id: 'apikeys.create',\n        name: 'Create API Keys',\n        description: 'Generate new API keys',\n        category: 'apikeys'\n    },\n    'apikeys.edit': {\n        id: 'apikeys.edit',\n        name: 'Edit API Keys',\n        description: 'Modify API key permissions',\n        category: 'apikeys'\n    },\n    'apikeys.delete': {\n        id: 'apikeys.delete',\n        name: 'Delete API Keys',\n        description: 'Revoke API keys',\n        category: 'apikeys'\n    },\n    'apikeys.logs': {\n        id: 'apikeys.logs',\n        name: 'View API Logs',\n        description: 'View API usage logs and statistics',\n        category: 'apikeys'\n    },\n    // System Management\n    'system.roles': {\n        id: 'system.roles',\n        name: 'Manage Roles',\n        description: 'Create, edit, and delete roles',\n        category: 'system'\n    },\n    'system.permissions': {\n        id: 'system.permissions',\n        name: 'Manage Permissions',\n        description: 'Configure role permissions',\n        category: 'system'\n    },\n    'system.settings': {\n        id: 'system.settings',\n        name: 'System Settings',\n        description: 'Modify system configuration',\n        category: 'system'\n    },\n    'system.categories': {\n        id: 'system.categories',\n        name: 'Manage Categories',\n        description: 'Create and manage node categories',\n        category: 'system'\n    },\n    // Monitoring\n    'monitoring.hardware': {\n        id: 'monitoring.hardware',\n        name: 'View Hardware',\n        description: 'View hardware information',\n        category: 'monitoring'\n    },\n    'monitoring.process': {\n        id: 'monitoring.process',\n        name: 'View Processes',\n        description: 'View and manage processes',\n        category: 'monitoring'\n    },\n    'monitoring.network': {\n        id: 'monitoring.network',\n        name: 'View Network',\n        description: 'View network statistics',\n        category: 'monitoring'\n    },\n    'monitoring.overview': {\n        id: 'monitoring.overview',\n        name: 'View Overview',\n        description: 'View system overview and stats',\n        category: 'monitoring'\n    }\n};\n// Default system roles\nconst DEFAULT_ROLES = [\n    {\n        id: 'admin',\n        name: 'Administrator',\n        description: 'Full system access',\n        permissions: Object.keys(PERMISSIONS),\n        isSystem: true,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n    },\n    {\n        id: 'manager',\n        name: 'Manager',\n        description: 'Manage nodes and API keys',\n        permissions: [\n            'nodes.view',\n            'nodes.create',\n            'nodes.edit',\n            'apikeys.view',\n            'apikeys.create',\n            'apikeys.edit',\n            'apikeys.logs',\n            'monitoring.hardware',\n            'monitoring.process',\n            'monitoring.network',\n            'monitoring.overview',\n            'system.categories'\n        ],\n        isSystem: true,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n    },\n    {\n        id: 'operator',\n        name: 'Operator',\n        description: 'Monitor and operate nodes',\n        permissions: [\n            'nodes.view',\n            'nodes.power',\n            'monitoring.hardware',\n            'monitoring.process',\n            'monitoring.network',\n            'monitoring.overview',\n            'apikeys.view',\n            'apikeys.logs'\n        ],\n        isSystem: true,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n    },\n    {\n        id: 'viewer',\n        name: 'Viewer',\n        description: 'Read-only access',\n        permissions: [\n            'nodes.view',\n            'monitoring.hardware',\n            'monitoring.overview'\n        ],\n        isSystem: true,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n    }\n];\n// Helper functions\nfunction hasPermission(userPermissions, requiredPermission) {\n    return userPermissions.includes(requiredPermission);\n}\nfunction hasAnyPermission(userPermissions, requiredPermissions) {\n    return requiredPermissions.some((permission)=>userPermissions.includes(permission));\n}\nfunction hasAllPermissions(userPermissions, requiredPermissions) {\n    return requiredPermissions.every((permission)=>userPermissions.includes(permission));\n}\nfunction getPermissionsByCategory(category) {\n    return Object.values(PERMISSIONS).filter((p)=>p.category === category);\n}\nfunction getRolePermissions(role) {\n    return role.permissions.map((id)=>PERMISSIONS[id]).filter(Boolean);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TyxTQUFTd0IsbUJBQW1CQyxJQUFVO0lBQzNDLE9BQU9BLEtBQUt2QixXQUFXLENBQUN3QixHQUFHLENBQUM3QixDQUFBQSxLQUFNRCxXQUFXLENBQUNDLEdBQUcsRUFBRXlCLE1BQU0sQ0FBQ0s7QUFDNUQiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcdG9vd2FcXE9uZURyaXZlXFxEZXNrdG9wXFxQcm9qZWN0c1xcU3RhdGlzdGljc1xcY2xpZW50XFxsaWJcXHBlcm1pc3Npb25zLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFBlcm1pc3Npb24gc3lzdGVtIGZvciBmaW5lLWdyYWluZWQgYWNjZXNzIGNvbnRyb2xcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGVybWlzc2lvbiB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBjYXRlZ29yeTogJ25vZGVzJyB8ICd1c2VycycgfCAnYXBpa2V5cycgfCAnc3lzdGVtJyB8ICdtb25pdG9yaW5nJztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBSb2xlIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIHBlcm1pc3Npb25zOiBzdHJpbmdbXTsgLy8gUGVybWlzc2lvbiBJRHNcclxuICBpc1N5c3RlbTogYm9vbGVhbjsgLy8gU3lzdGVtIHJvbGVzIGNhbm5vdCBiZSBkZWxldGVkXHJcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XHJcbiAgdXBkYXRlZEF0OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8vIEFsbCBhdmFpbGFibGUgcGVybWlzc2lvbnMgaW4gdGhlIHN5c3RlbVxyXG5leHBvcnQgY29uc3QgUEVSTUlTU0lPTlM6IFJlY29yZDxzdHJpbmcsIFBlcm1pc3Npb24+ID0ge1xyXG4gIC8vIE5vZGUgTWFuYWdlbWVudFxyXG4gICdub2Rlcy52aWV3Jzoge1xyXG4gICAgaWQ6ICdub2Rlcy52aWV3JyxcclxuICAgIG5hbWU6ICdWaWV3IE5vZGVzJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnVmlldyBsaXN0IG9mIG5vZGVzIGFuZCB0aGVpciBiYXNpYyBpbmZvcm1hdGlvbicsXHJcbiAgICBjYXRlZ29yeTogJ25vZGVzJ1xyXG4gIH0sXHJcbiAgJ25vZGVzLmNyZWF0ZSc6IHtcclxuICAgIGlkOiAnbm9kZXMuY3JlYXRlJyxcclxuICAgIG5hbWU6ICdDcmVhdGUgTm9kZXMnLFxyXG4gICAgZGVzY3JpcHRpb246ICdBZGQgbmV3IG5vZGVzIHRvIHRoZSBzeXN0ZW0nLFxyXG4gICAgY2F0ZWdvcnk6ICdub2RlcydcclxuICB9LFxyXG4gICdub2Rlcy5lZGl0Jzoge1xyXG4gICAgaWQ6ICdub2Rlcy5lZGl0JyxcclxuICAgIG5hbWU6ICdFZGl0IE5vZGVzJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnTW9kaWZ5IG5vZGUgY29uZmlndXJhdGlvbiBhbmQgc2V0dGluZ3MnLFxyXG4gICAgY2F0ZWdvcnk6ICdub2RlcydcclxuICB9LFxyXG4gICdub2Rlcy5kZWxldGUnOiB7XHJcbiAgICBpZDogJ25vZGVzLmRlbGV0ZScsXHJcbiAgICBuYW1lOiAnRGVsZXRlIE5vZGVzJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnUmVtb3ZlIG5vZGVzIGZyb20gdGhlIHN5c3RlbScsXHJcbiAgICBjYXRlZ29yeTogJ25vZGVzJ1xyXG4gIH0sXHJcbiAgJ25vZGVzLnBvd2VyJzoge1xyXG4gICAgaWQ6ICdub2Rlcy5wb3dlcicsXHJcbiAgICBuYW1lOiAnUG93ZXIgQ29udHJvbCcsXHJcbiAgICBkZXNjcmlwdGlvbjogJ1JlYm9vdCBvciBzaHV0ZG93biBub2RlcycsXHJcbiAgICBjYXRlZ29yeTogJ25vZGVzJ1xyXG4gIH0sXHJcbiAgXHJcbiAgLy8gVXNlciBNYW5hZ2VtZW50XHJcbiAgJ3VzZXJzLnZpZXcnOiB7XHJcbiAgICBpZDogJ3VzZXJzLnZpZXcnLFxyXG4gICAgbmFtZTogJ1ZpZXcgVXNlcnMnLFxyXG4gICAgZGVzY3JpcHRpb246ICdWaWV3IHVzZXIgbGlzdCBhbmQgcHJvZmlsZXMnLFxyXG4gICAgY2F0ZWdvcnk6ICd1c2VycydcclxuICB9LFxyXG4gICd1c2Vycy5jcmVhdGUnOiB7XHJcbiAgICBpZDogJ3VzZXJzLmNyZWF0ZScsXHJcbiAgICBuYW1lOiAnQ3JlYXRlIFVzZXJzJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnQWRkIG5ldyB1c2VycyB0byB0aGUgc3lzdGVtJyxcclxuICAgIGNhdGVnb3J5OiAndXNlcnMnXHJcbiAgfSxcclxuICAndXNlcnMuZWRpdCc6IHtcclxuICAgIGlkOiAndXNlcnMuZWRpdCcsXHJcbiAgICBuYW1lOiAnRWRpdCBVc2VycycsXHJcbiAgICBkZXNjcmlwdGlvbjogJ01vZGlmeSB1c2VyIGluZm9ybWF0aW9uIGFuZCBzZXR0aW5ncycsXHJcbiAgICBjYXRlZ29yeTogJ3VzZXJzJ1xyXG4gIH0sXHJcbiAgJ3VzZXJzLmRlbGV0ZSc6IHtcclxuICAgIGlkOiAndXNlcnMuZGVsZXRlJyxcclxuICAgIG5hbWU6ICdEZWxldGUgVXNlcnMnLFxyXG4gICAgZGVzY3JpcHRpb246ICdSZW1vdmUgdXNlcnMgZnJvbSB0aGUgc3lzdGVtJyxcclxuICAgIGNhdGVnb3J5OiAndXNlcnMnXHJcbiAgfSxcclxuICAndXNlcnMucm9sZXMnOiB7XHJcbiAgICBpZDogJ3VzZXJzLnJvbGVzJyxcclxuICAgIG5hbWU6ICdNYW5hZ2UgVXNlciBSb2xlcycsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0Fzc2lnbiBhbmQgbW9kaWZ5IHVzZXIgcm9sZXMnLFxyXG4gICAgY2F0ZWdvcnk6ICd1c2VycydcclxuICB9LFxyXG4gIFxyXG4gIC8vIEFQSSBLZXkgTWFuYWdlbWVudFxyXG4gICdhcGlrZXlzLnZpZXcnOiB7XHJcbiAgICBpZDogJ2FwaWtleXMudmlldycsXHJcbiAgICBuYW1lOiAnVmlldyBBUEkgS2V5cycsXHJcbiAgICBkZXNjcmlwdGlvbjogJ1ZpZXcgQVBJIGtleXMgYW5kIHRoZWlyIHBlcm1pc3Npb25zJyxcclxuICAgIGNhdGVnb3J5OiAnYXBpa2V5cydcclxuICB9LFxyXG4gICdhcGlrZXlzLmNyZWF0ZSc6IHtcclxuICAgIGlkOiAnYXBpa2V5cy5jcmVhdGUnLFxyXG4gICAgbmFtZTogJ0NyZWF0ZSBBUEkgS2V5cycsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0dlbmVyYXRlIG5ldyBBUEkga2V5cycsXHJcbiAgICBjYXRlZ29yeTogJ2FwaWtleXMnXHJcbiAgfSxcclxuICAnYXBpa2V5cy5lZGl0Jzoge1xyXG4gICAgaWQ6ICdhcGlrZXlzLmVkaXQnLFxyXG4gICAgbmFtZTogJ0VkaXQgQVBJIEtleXMnLFxyXG4gICAgZGVzY3JpcHRpb246ICdNb2RpZnkgQVBJIGtleSBwZXJtaXNzaW9ucycsXHJcbiAgICBjYXRlZ29yeTogJ2FwaWtleXMnXHJcbiAgfSxcclxuICAnYXBpa2V5cy5kZWxldGUnOiB7XHJcbiAgICBpZDogJ2FwaWtleXMuZGVsZXRlJyxcclxuICAgIG5hbWU6ICdEZWxldGUgQVBJIEtleXMnLFxyXG4gICAgZGVzY3JpcHRpb246ICdSZXZva2UgQVBJIGtleXMnLFxyXG4gICAgY2F0ZWdvcnk6ICdhcGlrZXlzJ1xyXG4gIH0sXHJcbiAgJ2FwaWtleXMubG9ncyc6IHtcclxuICAgIGlkOiAnYXBpa2V5cy5sb2dzJyxcclxuICAgIG5hbWU6ICdWaWV3IEFQSSBMb2dzJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnVmlldyBBUEkgdXNhZ2UgbG9ncyBhbmQgc3RhdGlzdGljcycsXHJcbiAgICBjYXRlZ29yeTogJ2FwaWtleXMnXHJcbiAgfSxcclxuICBcclxuICAvLyBTeXN0ZW0gTWFuYWdlbWVudFxyXG4gICdzeXN0ZW0ucm9sZXMnOiB7XHJcbiAgICBpZDogJ3N5c3RlbS5yb2xlcycsXHJcbiAgICBuYW1lOiAnTWFuYWdlIFJvbGVzJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnQ3JlYXRlLCBlZGl0LCBhbmQgZGVsZXRlIHJvbGVzJyxcclxuICAgIGNhdGVnb3J5OiAnc3lzdGVtJ1xyXG4gIH0sXHJcbiAgJ3N5c3RlbS5wZXJtaXNzaW9ucyc6IHtcclxuICAgIGlkOiAnc3lzdGVtLnBlcm1pc3Npb25zJyxcclxuICAgIG5hbWU6ICdNYW5hZ2UgUGVybWlzc2lvbnMnLFxyXG4gICAgZGVzY3JpcHRpb246ICdDb25maWd1cmUgcm9sZSBwZXJtaXNzaW9ucycsXHJcbiAgICBjYXRlZ29yeTogJ3N5c3RlbSdcclxuICB9LFxyXG4gICdzeXN0ZW0uc2V0dGluZ3MnOiB7XHJcbiAgICBpZDogJ3N5c3RlbS5zZXR0aW5ncycsXHJcbiAgICBuYW1lOiAnU3lzdGVtIFNldHRpbmdzJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnTW9kaWZ5IHN5c3RlbSBjb25maWd1cmF0aW9uJyxcclxuICAgIGNhdGVnb3J5OiAnc3lzdGVtJ1xyXG4gIH0sXHJcbiAgJ3N5c3RlbS5jYXRlZ29yaWVzJzoge1xyXG4gICAgaWQ6ICdzeXN0ZW0uY2F0ZWdvcmllcycsXHJcbiAgICBuYW1lOiAnTWFuYWdlIENhdGVnb3JpZXMnLFxyXG4gICAgZGVzY3JpcHRpb246ICdDcmVhdGUgYW5kIG1hbmFnZSBub2RlIGNhdGVnb3JpZXMnLFxyXG4gICAgY2F0ZWdvcnk6ICdzeXN0ZW0nXHJcbiAgfSxcclxuICBcclxuICAvLyBNb25pdG9yaW5nXHJcbiAgJ21vbml0b3JpbmcuaGFyZHdhcmUnOiB7XHJcbiAgICBpZDogJ21vbml0b3JpbmcuaGFyZHdhcmUnLFxyXG4gICAgbmFtZTogJ1ZpZXcgSGFyZHdhcmUnLFxyXG4gICAgZGVzY3JpcHRpb246ICdWaWV3IGhhcmR3YXJlIGluZm9ybWF0aW9uJyxcclxuICAgIGNhdGVnb3J5OiAnbW9uaXRvcmluZydcclxuICB9LFxyXG4gICdtb25pdG9yaW5nLnByb2Nlc3MnOiB7XHJcbiAgICBpZDogJ21vbml0b3JpbmcucHJvY2VzcycsXHJcbiAgICBuYW1lOiAnVmlldyBQcm9jZXNzZXMnLFxyXG4gICAgZGVzY3JpcHRpb246ICdWaWV3IGFuZCBtYW5hZ2UgcHJvY2Vzc2VzJyxcclxuICAgIGNhdGVnb3J5OiAnbW9uaXRvcmluZydcclxuICB9LFxyXG4gICdtb25pdG9yaW5nLm5ldHdvcmsnOiB7XHJcbiAgICBpZDogJ21vbml0b3JpbmcubmV0d29yaycsXHJcbiAgICBuYW1lOiAnVmlldyBOZXR3b3JrJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnVmlldyBuZXR3b3JrIHN0YXRpc3RpY3MnLFxyXG4gICAgY2F0ZWdvcnk6ICdtb25pdG9yaW5nJ1xyXG4gIH0sXHJcbiAgJ21vbml0b3Jpbmcub3ZlcnZpZXcnOiB7XHJcbiAgICBpZDogJ21vbml0b3Jpbmcub3ZlcnZpZXcnLFxyXG4gICAgbmFtZTogJ1ZpZXcgT3ZlcnZpZXcnLFxyXG4gICAgZGVzY3JpcHRpb246ICdWaWV3IHN5c3RlbSBvdmVydmlldyBhbmQgc3RhdHMnLFxyXG4gICAgY2F0ZWdvcnk6ICdtb25pdG9yaW5nJ1xyXG4gIH1cclxufTtcclxuXHJcbi8vIERlZmF1bHQgc3lzdGVtIHJvbGVzXHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1JPTEVTOiBSb2xlW10gPSBbXHJcbiAge1xyXG4gICAgaWQ6ICdhZG1pbicsXHJcbiAgICBuYW1lOiAnQWRtaW5pc3RyYXRvcicsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0Z1bGwgc3lzdGVtIGFjY2VzcycsXHJcbiAgICBwZXJtaXNzaW9uczogT2JqZWN0LmtleXMoUEVSTUlTU0lPTlMpLFxyXG4gICAgaXNTeXN0ZW06IHRydWUsXHJcbiAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ21hbmFnZXInLFxyXG4gICAgbmFtZTogJ01hbmFnZXInLFxyXG4gICAgZGVzY3JpcHRpb246ICdNYW5hZ2Ugbm9kZXMgYW5kIEFQSSBrZXlzJyxcclxuICAgIHBlcm1pc3Npb25zOiBbXHJcbiAgICAgICdub2Rlcy52aWV3JywgJ25vZGVzLmNyZWF0ZScsICdub2Rlcy5lZGl0JywgXHJcbiAgICAgICdhcGlrZXlzLnZpZXcnLCAnYXBpa2V5cy5jcmVhdGUnLCAnYXBpa2V5cy5lZGl0JywgJ2FwaWtleXMubG9ncycsXHJcbiAgICAgICdtb25pdG9yaW5nLmhhcmR3YXJlJywgJ21vbml0b3JpbmcucHJvY2VzcycsICdtb25pdG9yaW5nLm5ldHdvcmsnLCAnbW9uaXRvcmluZy5vdmVydmlldycsXHJcbiAgICAgICdzeXN0ZW0uY2F0ZWdvcmllcydcclxuICAgIF0sXHJcbiAgICBpc1N5c3RlbTogdHJ1ZSxcclxuICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnb3BlcmF0b3InLFxyXG4gICAgbmFtZTogJ09wZXJhdG9yJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnTW9uaXRvciBhbmQgb3BlcmF0ZSBub2RlcycsXHJcbiAgICBwZXJtaXNzaW9uczogW1xyXG4gICAgICAnbm9kZXMudmlldycsICdub2Rlcy5wb3dlcicsXHJcbiAgICAgICdtb25pdG9yaW5nLmhhcmR3YXJlJywgJ21vbml0b3JpbmcucHJvY2VzcycsICdtb25pdG9yaW5nLm5ldHdvcmsnLCAnbW9uaXRvcmluZy5vdmVydmlldycsXHJcbiAgICAgICdhcGlrZXlzLnZpZXcnLCAnYXBpa2V5cy5sb2dzJ1xyXG4gICAgXSxcclxuICAgIGlzU3lzdGVtOiB0cnVlLFxyXG4gICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6ICd2aWV3ZXInLFxyXG4gICAgbmFtZTogJ1ZpZXdlcicsXHJcbiAgICBkZXNjcmlwdGlvbjogJ1JlYWQtb25seSBhY2Nlc3MnLFxyXG4gICAgcGVybWlzc2lvbnM6IFtcclxuICAgICAgJ25vZGVzLnZpZXcnLFxyXG4gICAgICAnbW9uaXRvcmluZy5oYXJkd2FyZScsICdtb25pdG9yaW5nLm92ZXJ2aWV3J1xyXG4gICAgXSxcclxuICAgIGlzU3lzdGVtOiB0cnVlLFxyXG4gICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gIH1cclxuXTtcclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbnNcclxuZXhwb3J0IGZ1bmN0aW9uIGhhc1Blcm1pc3Npb24odXNlclBlcm1pc3Npb25zOiBzdHJpbmdbXSwgcmVxdWlyZWRQZXJtaXNzaW9uOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICByZXR1cm4gdXNlclBlcm1pc3Npb25zLmluY2x1ZGVzKHJlcXVpcmVkUGVybWlzc2lvbik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYXNBbnlQZXJtaXNzaW9uKHVzZXJQZXJtaXNzaW9uczogc3RyaW5nW10sIHJlcXVpcmVkUGVybWlzc2lvbnM6IHN0cmluZ1tdKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIHJlcXVpcmVkUGVybWlzc2lvbnMuc29tZShwZXJtaXNzaW9uID0+IHVzZXJQZXJtaXNzaW9ucy5pbmNsdWRlcyhwZXJtaXNzaW9uKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYXNBbGxQZXJtaXNzaW9ucyh1c2VyUGVybWlzc2lvbnM6IHN0cmluZ1tdLCByZXF1aXJlZFBlcm1pc3Npb25zOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xyXG4gIHJldHVybiByZXF1aXJlZFBlcm1pc3Npb25zLmV2ZXJ5KHBlcm1pc3Npb24gPT4gdXNlclBlcm1pc3Npb25zLmluY2x1ZGVzKHBlcm1pc3Npb24pKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBlcm1pc3Npb25zQnlDYXRlZ29yeShjYXRlZ29yeTogc3RyaW5nKTogUGVybWlzc2lvbltdIHtcclxuICByZXR1cm4gT2JqZWN0LnZhbHVlcyhQRVJNSVNTSU9OUykuZmlsdGVyKHAgPT4gcC5jYXRlZ29yeSA9PT0gY2F0ZWdvcnkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um9sZVBlcm1pc3Npb25zKHJvbGU6IFJvbGUpOiBQZXJtaXNzaW9uW10ge1xyXG4gIHJldHVybiByb2xlLnBlcm1pc3Npb25zLm1hcChpZCA9PiBQRVJNSVNTSU9OU1tpZF0pLmZpbHRlcihCb29sZWFuKTtcclxufSJdLCJuYW1lcyI6WyJQRVJNSVNTSU9OUyIsImlkIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiY2F0ZWdvcnkiLCJERUZBVUxUX1JPTEVTIiwicGVybWlzc2lvbnMiLCJPYmplY3QiLCJrZXlzIiwiaXNTeXN0ZW0iLCJjcmVhdGVkQXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ1cGRhdGVkQXQiLCJoYXNQZXJtaXNzaW9uIiwidXNlclBlcm1pc3Npb25zIiwicmVxdWlyZWRQZXJtaXNzaW9uIiwiaW5jbHVkZXMiLCJoYXNBbnlQZXJtaXNzaW9uIiwicmVxdWlyZWRQZXJtaXNzaW9ucyIsInNvbWUiLCJwZXJtaXNzaW9uIiwiaGFzQWxsUGVybWlzc2lvbnMiLCJldmVyeSIsImdldFBlcm1pc3Npb25zQnlDYXRlZ29yeSIsInZhbHVlcyIsImZpbHRlciIsInAiLCJnZXRSb2xlUGVybWlzc2lvbnMiLCJyb2xlIiwibWFwIiwiQm9vbGVhbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/permissions.ts\n");

/***/ }),

/***/ "(ssr)/../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*******************************************************************************************************!*\
  !*** ../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/bcryptjs","vendor-chunks/jose"], () => (__webpack_exec__("(rsc)/../node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fnodes%2F%5Bid%5D%2Froute&page=%2Fapi%2Fnodes%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnodes%2F%5Bid%5D%2Froute.ts&appDir=C%3A%5CUsers%5Ctoowa%5COneDrive%5CDesktop%5CProjects%5CStatistics%5Cclient%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ctoowa%5COneDrive%5CDesktop%5CProjects%5CStatistics%5Cclient&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();